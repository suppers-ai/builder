import{ai as Ol,aj as Bl,ak as vt,x as ce,t as D,y as fe,b as k,al as Rl,S as be,i as we,s as ke,A as ee,a as O,m as B,l as Q,p as R,B as de,C as Te,D as Ae,E as Ve,F as Me,af as at,d as h,G as Dt,K as le,f as g,c as N,e as u,H as De,g as v,h as E,k as P,r as U,j as se,n as $,o as S,u as j,R as Hl,ag as je,_ as xe,a1 as lt,z as st,v as ft,q as ze,J as et,P as Wl,a7 as Cl,ah as ql,Q as Ql,a2 as ot,a3 as ct,Y as jt,Z as $t,U as Ge,T as tt,w as St,N as Pl,I as Zl,a4 as Jl}from"../chunks/D7cgMQgG.js";import{g as Oe,a as Be,e as Je,u as Nt,o as Sl,f as Gl}from"../chunks/ClgeGvnK.js";import"../chunks/IHki7fMi.js";import{C as Kl,a as Nl,F as Yl}from"../chunks/DOBs0lx2.js";import{d as Xe,w as ht}from"../chunks/kK7WvOrX.js";import{g as rt,h as wt,C as Xl,i as ut,j as dt,e as Et,M as xl,S as es,c as ts,a as ls,b as ss,d as ns,s as it}from"../chunks/DW4YJncE.js";import{n as ue,t as bt}from"../chunks/DtGtgTaB.js";import{U as Tt}from"../chunks/DXLuQ9Qg.js";import{a as Tl}from"../chunks/xVFHz2GL.js";import{C as rs,H as as}from"../chunks/0mYbaKor.js";import{X as Al}from"../chunks/Bq83YbA7.js";import{B as Ee}from"../chunks/C0dBig-Y.js";import{s as is,L as os}from"../chunks/DPy0Gr5d.js";import{M as cs}from"../chunks/Be9lc66W.js";import{U as Vl}from"../chunks/jj5a9AaL.js";import{C as fs}from"../chunks/D5M968Yx.js";import{C as Lt}from"../chunks/BcQ7abFM.js";import{L as us}from"../chunks/qxYVsWqR.js";import{I as Re}from"../chunks/DsNLi6AI.js";import{S as At}from"../chunks/DMoS847v.js";import{D as nt}from"../chunks/BAGtJE_Y.js";import{T as Ml}from"../chunks/DseTNs6Y.js";import{C as Fl}from"../chunks/yYbNxQ5h.js";const ds=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ot(r,e){const l=e.token={};function t(s,n,a,i){if(e.token!==l)return;e.resolved=i;let o=e.ctx;a!==void 0&&(o=o.slice(),o[a]=i);const c=s&&(e.current=s)(o);let m=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==n&&f&&(ce(),D(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),fe())}):e.block.d(1),c.c(),k(c,1),c.m(e.mount(),e.anchor),m=!0),e.block=c,e.blocks&&(e.blocks[n]=c),m&&Rl()}if(Ol(r)){const s=Bl();if(r.then(n=>{vt(s),t(e.then,1,e.value,n),vt(null)},n=>{if(vt(s),t(e.catch,2,e.error,n),vt(null),!e.hasCatch)throw n}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function ms(r,e,l){const t=e.slice(),{resolved:s}=r;r.current===r.then&&(t[r.value]=s),r.current===r.catch&&(t[r.error]=s),r.block.p(t,l)}function hs(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function ps(r){let e,l;const t=[{name:"archive"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[hs]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function gs(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}],["path",{d:"M10 12h4"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class Vt extends be{constructor(e){super(),we(this,e,gs,ps,ke,{})}}function _s(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function vs(r){let e,l;const t=[{name:"circle"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[_s]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function $s(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["circle",{cx:"12",cy:"12",r:"10"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class bs extends be{constructor(e){super(),we(this,e,$s,vs,ke,{})}}function ws(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function ks(r){let e,l;const t=[{name:"code"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[ws]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function ys(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["polyline",{points:"16 18 22 12 16 6"}],["polyline",{points:"8 6 2 12 8 18"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class zl extends be{constructor(e){super(),we(this,e,ys,ks,ke,{})}}function Is(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function Ds(r){let e,l;const t=[{name:"eye"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Is]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Es(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class Cs extends be{constructor(e){super(),we(this,e,Es,Ds,ke,{})}}function Ps(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function Ss(r){let e,l;const t=[{name:"file-text"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Ps]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Ns(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class Ul extends be{constructor(e){super(),we(this,e,Ns,Ss,ke,{})}}function Ts(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function As(r){let e,l;const t=[{name:"film"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Ts]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Vs(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class Ms extends be{constructor(e){super(),we(this,e,Vs,As,ke,{})}}function Fs(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function zs(r){let e,l;const t=[{name:"folder-plus"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Fs]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Us(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M12 10v6"}],["path",{d:"M9 13h6"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class js extends be{constructor(e){super(),we(this,e,Us,zs,ke,{})}}function Ls(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function Os(r){let e,l;const t=[{name:"image"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Ls]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Bs(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class Rs extends be{constructor(e){super(),we(this,e,Bs,Os,ke,{})}}function Hs(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function Ws(r){let e,l;const t=[{name:"music"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Hs]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function qs(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M9 18V5l12-2v13"}],["circle",{cx:"6",cy:"18",r:"3"}],["circle",{cx:"18",cy:"16",r:"3"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class Qs extends be{constructor(e){super(),we(this,e,qs,Ws,ke,{})}}function Zs(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function Js(r){let e,l;const t=[{name:"presentation"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Zs]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Gs(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M2 3h20"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3"}],["path",{d:"m7 21 5-5 5 5"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class jl extends be{constructor(e){super(),we(this,e,Gs,Js,ke,{})}}function Ks(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function Ys(r){let e,l;const t=[{name:"rotate-cw"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Ks]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Xs(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class xs extends be{constructor(e){super(),we(this,e,Xs,Ys,ke,{})}}function en(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function tn(r){let e,l;const t=[{name:"square-check-big"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[en]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function ln(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5"}],["path",{d:"m9 11 3 3L22 4"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class sn extends be{constructor(e){super(),we(this,e,ln,tn,ke,{})}}function nn(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function rn(r){let e,l;const t=[{name:"square-x"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[nn]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function an(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class on extends be{constructor(e){super(),we(this,e,an,rn,ke,{})}}function cn(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function fn(r){let e,l;const t=[{name:"zoom-in"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[cn]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function un(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class dn extends be{constructor(e){super(),we(this,e,un,fn,ke,{})}}function mn(r){let e;const l=r[2].default,t=Te(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Ae(t,l,s,s[3],e?Me(l,s[3],n,null):Ve(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){D(t,s),e=!1},d(s){t&&t.d(s)}}}function hn(r){let e,l;const t=[{name:"zoom-out"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[mn]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ee(s,t[n]);return e=new Re({props:s}),{c(){R(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,a){B(e,n,a),l=!0},p(n,[a]){const i=a&3?Oe(t,[t[0],a&2&&Be(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function pn(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]];return r.$$set=a=>{l(1,e=ee(ee({},e),de(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=de(e),[n,e,t,s]}class gn extends be{constructor(e){super(),we(this,e,pn,hn,ke,{})}}const Qe=ht([]);function _n(){const{subscribe:r,set:e,update:l}=ht({currentPath:"/",files:[],folders:[],loading:!1,error:null,selectedItems:[],sortBy:"name",sortOrder:"asc",view:"grid",searchQuery:"",filters:{type:"",dateRange:{start:null,end:null},sizeRange:{min:null,max:null}},clipboard:{items:[],operation:null}});return{subscribe:r,async loadFiles(t="/"){l(s=>({...s,loading:!0,error:null,currentPath:t}));try{const s=await rt.listFiles(t);l(n=>({...n,files:s.files||[],folders:s.folders||[],loading:!1}))}catch(s){l(n=>({...n,loading:!1,error:s.message||"Failed to load files"})),ue.error("Failed to load files")}},async uploadFile(t,s="/"){const n={id:Math.random().toString(36).substr(2,9),file:t,name:t.name,size:t.size,type:t.type,progress:0,status:"pending",cancelToken:new AbortController};Qe.update(a=>[...a,n]);try{Qe.update(i=>i.map(o=>o.id===n.id?{...o,status:"uploading"}:o));const a=await rt.uploadFile(t,s,i=>{Qe.update(o=>o.map(c=>c.id===n.id?{...c,progress:i}:c))},n.cancelToken.signal);Qe.update(i=>i.map(o=>o.id===n.id?{...o,status:"completed",progress:100,uploadedUrl:a.url}:o)),await this.loadFiles(s),ue.success(`${t.name} uploaded successfully`)}catch(a){Qe.update(i=>i.map(o=>o.id===n.id?{...o,status:"error",error:a.message}:o)),ue.error(`Failed to upload ${t.name}`)}},async createFolder(t,s="/"){try{await rt.createFolder(t,s),await this.loadFiles(s),ue.success(`Folder "${t}" created`)}catch(n){ue.error(`Failed to create folder: ${n.message}`)}},async deleteItems(t){try{await Promise.all(t.map(n=>rt.deleteFile(n)));const s=at(this).currentPath;await this.loadFiles(s),ue.success(`${t.length} item(s) deleted`)}catch(s){ue.error(`Failed to delete items: ${s.message}`)}},async moveItems(t,s){try{await Promise.all(t.map(a=>rt.moveFile(a,s)));const n=at(this).currentPath;await this.loadFiles(n),ue.success(`${t.length} item(s) moved`)}catch(n){ue.error(`Failed to move items: ${n.message}`)}},async copyItems(t,s){try{await Promise.all(t.map(n=>rt.copyFile(n,s))),await this.loadFiles(s),ue.success(`${t.length} item(s) copied`)}catch(n){ue.error(`Failed to copy items: ${n.message}`)}},async renameItem(t,s){try{await rt.renameFile(t,s);const n=at(this).currentPath;await this.loadFiles(n),ue.success("Item renamed")}catch(n){ue.error(`Failed to rename item: ${n.message}`)}},selectItem(t){l(s=>({...s,selectedItems:[...s.selectedItems,t]}))},deselectItem(t){l(s=>({...s,selectedItems:s.selectedItems.filter(n=>n!==t)}))},toggleItemSelection(t){l(s=>({...s,selectedItems:s.selectedItems.includes(t)?s.selectedItems.filter(n=>n!==t):[...s.selectedItems,t]}))},selectAll(){l(t=>({...t,selectedItems:[...t.files.map(s=>s.id),...t.folders.map(s=>s.id)]}))},clearSelection(){l(t=>({...t,selectedItems:[]}))},setView(t){l(s=>({...s,view:t}))},setSortBy(t){l(s=>({...s,sortBy:t}))},setSortOrder(t){l(s=>({...s,sortOrder:t}))},setSearchQuery(t){l(s=>({...s,searchQuery:t}))},setFilters(t){l(s=>({...s,filters:{...s.filters,...t}}))},copyToClipboard(t){l(s=>({...s,clipboard:{items:t,operation:"copy"}})),ue.info(`${t.length} item(s) copied to clipboard`)},cutToClipboard(t){l(s=>({...s,clipboard:{items:t,operation:"cut"}})),ue.info(`${t.length} item(s) cut to clipboard`)},async pasteFromClipboard(t){const s=at(this);if(!s.clipboard.items.length||!s.clipboard.operation)return;const n=s.clipboard.items.map(a=>a.id);s.clipboard.operation==="copy"?await this.copyItems(n,t):s.clipboard.operation==="cut"&&(await this.moveItems(n,t),l(a=>({...a,clipboard:{items:[],operation:null}})))},clearClipboard(){l(t=>({...t,clipboard:{items:[],operation:null}}))},cancelUpload(t){const n=at(Qe).find(a=>a.id===t);n!=null&&n.cancelToken&&n.cancelToken.abort(),Qe.update(a=>a.filter(i=>i.id!==t))},clearCompletedUploads(){Qe.update(t=>t.filter(s=>s.status!=="completed"))},clearAllUploads(){at(Qe).forEach(s=>{s.cancelToken&&s.cancelToken.abort()}),Qe.set([])}}}const Ct=_n();Xe(Ct,r=>{const e=[...r.files,...r.folders];let l=e;return r.searchQuery&&(l=e.filter(s=>s.name.toLowerCase().includes(r.searchQuery.toLowerCase()))),r.filters.type&&(l=l.filter(s=>s.type===r.filters.type||s.isFolder&&r.filters.type==="folder")),(r.filters.dateRange.start||r.filters.dateRange.end)&&(l=l.filter(s=>{const n=new Date(s.modified);return!(r.filters.dateRange.start&&n<r.filters.dateRange.start||r.filters.dateRange.end&&n>r.filters.dateRange.end)})),(r.filters.sizeRange.min!==null||r.filters.sizeRange.max!==null)&&(l=l.filter(s=>s.isFolder?!0:!(r.filters.sizeRange.min!==null&&s.size<r.filters.sizeRange.min||r.filters.sizeRange.max!==null&&s.size>r.filters.sizeRange.max))),[...l].sort((s,n)=>{let a=0;if(s.isFolder&&!n.isFolder)return-1;if(!s.isFolder&&n.isFolder)return 1;switch(r.sortBy){case"name":a=s.name.localeCompare(n.name);break;case"size":a=(s.size||0)-(n.size||0);break;case"modified":a=new Date(s.modified).getTime()-new Date(n.modified).getTime();break;case"type":a=(s.type||"").localeCompare(n.type||"");break}return r.sortOrder==="asc"?a:-a})});Xe(Qe,r=>{if(r.length===0)return 0;const e=r.reduce((l,t)=>l+t.progress,0);return Math.round(e/r.length)});const vn=Xe(Qe,r=>r.filter(e=>e.status==="uploading").length);Xe(vn,r=>r>0);function Bt(r,e,l){const t=r.slice();return t[15]=e[l],t}function Rt(r){let e,l,t="Upload Queue",s,n=[],a=new Map,i,o,c=Je(r[5]);const m=f=>f[15].fileId;for(let f=0;f<c.length;f+=1){let d=Bt(r,c,f),p=m(d);a.set(p,n[f]=Wt(p,d))}return{c(){e=$("div"),l=$("h3"),l.textContent=t,s=S();for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){e=v(f,"DIV",{class:!0});var d=E(e);l=v(d,"H3",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-ah81oi"&&(l.textContent=t),s=P(d);for(let p=0;p<n.length;p+=1)n[p].l(d);d.forEach(h),this.h()},h(){g(l,"class","text-sm font-medium mb-2"),g(e,"class","mt-6 space-y-2")},m(f,d){N(f,e,d),u(e,l),u(e,s);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(e,null);o=!0},p(f,d){d&1056&&(c=Je(f[5]),ce(),n=Nt(n,d,m,1,f,c,a,e,Sl,Wt,null,Bt),fe())},i(f){if(!o){for(let d=0;d<c.length;d+=1)k(n[d]);f&&xe(()=>{o&&(i||(i=je(e,wt,{},!0)),i.run(1))}),o=!0}},o(f){for(let d=0;d<n.length;d+=1)D(n[d]);f&&(i||(i=je(e,wt,{},!1)),i.run(0)),o=!1},d(f){f&&h(e);for(let d=0;d<n.length;d+=1)n[d].d();f&&i&&i.end()}}}function $n(r){let e,l="Upload complete";return{c(){e=$("p"),e.textContent=l,this.h()},l(t){e=v(t,"P",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-14rgr5f"&&(e.textContent=l),this.h()},h(){g(e,"class","text-xs text-green-500")},m(t,s){N(t,e,s)},p:ze,d(t){t&&h(e)}}}function bn(r){let e,l=r[15].error+"",t;return{c(){e=$("p"),t=j(l),this.h()},l(s){e=v(s,"P",{class:!0});var n=E(e);t=U(n,l),n.forEach(h),this.h()},h(){g(e,"class","text-xs text-red-500")},m(s,n){N(s,e,n),u(e,t)},p(s,n){n&32&&l!==(l=s[15].error+"")&&le(t,l)},d(s){s&&h(e)}}}function wn(r){let e,l,t,s,n,a=Math.round(r[15].progress)+"",i,o;return{c(){e=$("div"),l=$("div"),t=$("div"),s=S(),n=$("p"),i=j(a),o=j("%"),this.h()},l(c){e=v(c,"DIV",{class:!0});var m=E(e);l=v(m,"DIV",{class:!0});var f=E(l);t=v(f,"DIV",{class:!0,style:!0}),E(t).forEach(h),f.forEach(h),s=P(m),n=v(m,"P",{class:!0});var d=E(n);i=U(d,a),o=U(d,"%"),d.forEach(h),m.forEach(h),this.h()},h(){g(t,"class","h-full bg-primary-500 transition-all duration-300"),ft(t,"width",r[15].progress+"%"),g(l,"class","h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"),g(n,"class","text-xs text-gray-500 mt-1"),g(e,"class","mt-1")},m(c,m){N(c,e,m),u(e,l),u(l,t),u(e,s),u(e,n),u(n,i),u(n,o)},p(c,m){m&32&&ft(t,"width",c[15].progress+"%"),m&32&&a!==(a=Math.round(c[15].progress)+"")&&le(i,a)},d(c){c&&h(e)}}}function Ht(r){let e,l,t,s,n;l=new Al({props:{class:"w-4 h-4"}});function a(){return r[13](r[15])}return{c(){e=$("button"),R(l.$$.fragment),this.h()},l(i){e=v(i,"BUTTON",{class:!0});var o=E(e);Q(l.$$.fragment,o),o.forEach(h),this.h()},h(){g(e,"class","p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded")},m(i,o){N(i,e,o),B(l,e,null),t=!0,s||(n=De(e,"click",a),s=!0)},p(i,o){r=i},i(i){t||(k(l.$$.fragment,i),t=!0)},o(i){D(l.$$.fragment,i),t=!1},d(i){i&&h(e),O(l),s=!1,n()}}}function Wt(r,e){let l,t,s,n,a,i=e[15].fileName+"",o,c,m,f,d,p;var y=e[10](e[15].status);function b(T,F){return{props:{class:"w-5 h-5 "+qt(T[15].status)}}}y&&(t=st(y,b(e)));function I(T,F){if(T[15].status==="uploading")return wn;if(T[15].status==="error")return bn;if(T[15].status==="completed")return $n}let w=I(e),_=w&&w(e),C=(e[15].status==="error"||e[15].status==="completed")&&Ht(e);return{key:r,first:null,c(){l=$("div"),t&&R(t.$$.fragment),s=S(),n=$("div"),a=$("p"),o=j(i),c=S(),_&&_.c(),m=S(),C&&C.c(),f=S(),this.h()},l(T){l=v(T,"DIV",{class:!0});var F=E(l);t&&Q(t.$$.fragment,F),s=P(F),n=v(F,"DIV",{class:!0});var H=E(n);a=v(H,"P",{class:!0});var L=E(a);o=U(L,i),L.forEach(h),c=P(H),_&&_.l(H),H.forEach(h),m=P(F),C&&C.l(F),f=P(F),F.forEach(h),this.h()},h(){g(a,"class","text-sm font-medium truncate"),g(n,"class","flex-1 min-w-0"),g(l,"class","flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"),this.first=l},m(T,F){N(T,l,F),t&&B(t,l,null),u(l,s),u(l,n),u(n,a),u(a,o),u(n,c),_&&_.m(n,null),u(l,m),C&&C.m(l,null),u(l,f),p=!0},p(T,F){if(e=T,F&32&&y!==(y=e[10](e[15].status))){if(t){ce();const H=t;D(H.$$.fragment,1,0,()=>{O(H,1)}),fe()}y?(t=st(y,b(e)),R(t.$$.fragment),k(t.$$.fragment,1),B(t,l,s)):t=null}else if(y){const H={};F&32&&(H.class="w-5 h-5 "+qt(e[15].status)),t.$set(H)}(!p||F&32)&&i!==(i=e[15].fileName+"")&&le(o,i),w===(w=I(e))&&_?_.p(e,F):(_&&_.d(1),_=w&&w(e),_&&(_.c(),_.m(n,null))),e[15].status==="error"||e[15].status==="completed"?C?(C.p(e,F),F&32&&k(C,1)):(C=Ht(e),C.c(),k(C,1),C.m(l,f)):C&&(ce(),D(C,1,1,()=>{C=null}),fe())},i(T){p||(t&&k(t.$$.fragment,T),k(C),T&&xe(()=>{p&&(d||(d=je(l,ut,{},!0)),d.run(1))}),p=!0)},o(T){t&&D(t.$$.fragment,T),D(C),T&&(d||(d=je(l,ut,{},!1)),d.run(0)),p=!1},d(T){T&&h(l),t&&O(t),_&&_.d(),C&&C.d(),T&&d&&d.end()}}}function kn(r){let e,l,t,s,n,a=r[3]?"Drop files here":"Drag & drop files here",i,o,c,m="or",f,d,p="Browse Files",y,b,I,w,_,C,T=Pt(r[0])+"",F,H,L,W,q,X;t=new Tt({props:{class:"w-12 h-12 mx-auto mb-4 text-gray-400"}});let Z=r[5].length>0&&Rt(r);return{c(){e=$("div"),l=$("div"),R(t.$$.fragment),s=S(),n=$("p"),i=j(a),o=S(),c=$("p"),c.textContent=m,f=S(),d=$("button"),d.textContent=p,y=S(),b=$("input"),w=S(),_=$("p"),C=j("Maximum file size: "),F=j(T),L=S(),Z&&Z.c(),this.h()},l(z){e=v(z,"DIV",{class:!0});var V=E(e);l=v(V,"DIV",{class:!0,role:!0,tabindex:!0});var M=E(l);Q(t.$$.fragment,M),s=P(M),n=v(M,"P",{class:!0});var G=E(n);i=U(G,a),G.forEach(h),o=P(M),c=v(M,"P",{class:!0,"data-svelte-h":!0}),se(c)!=="svelte-yxis0d"&&(c.textContent=m),f=P(M),d=v(M,"BUTTON",{class:!0,"data-svelte-h":!0}),se(d)!=="svelte-16sm6qo"&&(d.textContent=p),y=P(M),b=v(M,"INPUT",{type:!0,accept:!0,class:!0}),w=P(M),_=v(M,"P",{class:!0});var K=E(_);C=U(K,"Maximum file size: "),F=U(K,T),K.forEach(h),M.forEach(h),L=P(V),Z&&Z.l(V),V.forEach(h),this.h()},h(){g(n,"class","text-lg font-medium mb-2"),g(c,"class","text-sm text-gray-500 mb-4"),g(d,"class","px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"),g(b,"type","file"),b.multiple=r[2],g(b,"accept",I=r[1].join(",")),g(b,"class","hidden"),g(_,"class","text-xs text-gray-500 mt-4"),g(l,"class",H="relative border-2 border-dashed rounded-lg p-8 text-center transition-all "+(r[3]?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-600")),g(l,"role","button"),g(l,"tabindex","0"),g(e,"class","upload-manager")},m(z,V){N(z,e,V),u(e,l),B(t,l,null),u(l,s),u(l,n),u(n,i),u(l,o),u(l,c),u(l,f),u(l,d),u(l,y),u(l,b),r[12](b),u(l,w),u(l,_),u(_,C),u(_,F),u(e,L),Z&&Z.m(e,null),W=!0,q||(X=[De(d,"click",r[11]),De(b,"change",r[9]),De(l,"dragenter",r[6]),De(l,"dragleave",r[7]),De(l,"dragover",yn),De(l,"drop",r[8])],q=!0)},p(z,[V]){(!W||V&8)&&a!==(a=z[3]?"Drop files here":"Drag & drop files here")&&le(i,a),(!W||V&4)&&(b.multiple=z[2]),(!W||V&2&&I!==(I=z[1].join(",")))&&g(b,"accept",I),(!W||V&1)&&T!==(T=Pt(z[0])+"")&&le(F,T),(!W||V&8&&H!==(H="relative border-2 border-dashed rounded-lg p-8 text-center transition-all "+(z[3]?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-600")))&&g(l,"class",H),z[5].length>0?Z?(Z.p(z,V),V&32&&k(Z,1)):(Z=Rt(z),Z.c(),k(Z,1),Z.m(e,null)):Z&&(ce(),D(Z,1,1,()=>{Z=null}),fe())},i(z){W||(k(t.$$.fragment,z),k(Z),W=!0)},o(z){D(t.$$.fragment,z),D(Z),W=!1},d(z){z&&h(e),O(t),r[12](null),Z&&Z.d(),q=!1,Dt(X)}}}function yn(r){r.preventDefault()}function Pt(r){if(r===0)return"0 Bytes";const e=1024,l=["Bytes","KB","MB","GB"],t=Math.floor(Math.log(r)/Math.log(e));return Math.round(r/Math.pow(e,t)*100)/100+" "+l[t]}function qt(r){switch(r){case"completed":return"text-green-500";case"error":return"text-red-500";case"uploading":return"text-blue-500";default:return"text-gray-400"}}function In(r,e,l){let t;Hl(r,Qe,_=>l(5,t=_));let{maxFileSize:s=100*1024*1024}=e,{allowedTypes:n=[]}=e,{multiple:a=!0}=e,i=!1,o;function c(_){_.preventDefault(),l(3,i=!0)}function m(_){_.preventDefault(),_.currentTarget===_.target&&l(3,i=!1)}function f(_){var T;_.preventDefault(),l(3,i=!1);const C=Array.from(((T=_.dataTransfer)==null?void 0:T.files)||[]);p(C)}function d(_){const C=_.target,T=Array.from(C.files||[]);p(T)}function p(_){const C=_.filter(T=>s&&T.size>s?(ue.error("File too large",`${T.name} exceeds the maximum size of ${Pt(s)}`),!1):n.length>0&&!n.includes(T.type)?(ue.error("Invalid file type",`${T.name} is not an allowed file type`),!1):!0);C.length>0&&(ue.progress("Uploading files",0,C.length,{duration:0}),Ct.uploadFiles(C).then(()=>{ue.success("Upload complete",`${C.length} files uploaded successfully`)}).catch(T=>{ue.error("Upload failed",T.message||"Some files failed to upload")}))}function y(_){switch(_){case"completed":return Xl;case"error":return rs;default:return Tl}}const b=()=>o.click();function I(_){lt[_?"unshift":"push"](()=>{o=_,l(4,o)})}const w=_=>{Ct.update(C=>({...C,uploads:C.uploads.filter(T=>T.fileId!==_.fileId)}))};return r.$$set=_=>{"maxFileSize"in _&&l(0,s=_.maxFileSize),"allowedTypes"in _&&l(1,n=_.allowedTypes),"multiple"in _&&l(2,a=_.multiple)},[s,n,a,i,o,t,c,m,f,d,y,b,I,w]}class Dn extends be{constructor(e){super(),we(this,e,In,kn,ke,{maxFileSize:0,allowedTypes:1,multiple:2})}}const En=r=>({}),Qt=r=>({});function Zt(r){let e,l,t,s,n,a,i,o,c,m,f,d,p,y,b,I,w,_,C=r[2]&&Jt(r);const T=r[9].default,F=Te(T,r,r[8],null);let H=r[6].footer&&Gt(r);return{c(){e=$("div"),l=$("div"),t=S(),s=$("div"),n=$("div"),a=$("div"),i=$("h2"),o=j(r[1]),c=S(),C&&C.c(),m=S(),f=$("div"),F&&F.c(),d=S(),H&&H.c(),this.h()},l(L){e=v(L,"DIV",{class:!0});var W=E(e);l=v(W,"DIV",{class:!0,role:!0,tabindex:!0}),E(l).forEach(h),t=P(W),s=v(W,"DIV",{class:!0});var q=E(s);n=v(q,"DIV",{class:!0,role:!0,"aria-modal":!0});var X=E(n);a=v(X,"DIV",{class:!0});var Z=E(a);i=v(Z,"H2",{class:!0});var z=E(i);o=U(z,r[1]),z.forEach(h),c=P(Z),C&&C.l(Z),Z.forEach(h),m=P(X),f=v(X,"DIV",{class:!0});var V=E(f);F&&F.l(V),V.forEach(h),d=P(X),H&&H.l(X),X.forEach(h),q.forEach(h),W.forEach(h),this.h()},h(){g(l,"class","fixed inset-0 bg-black bg-opacity-50"),g(l,"role","button"),g(l,"tabindex","-1"),g(i,"class","text-xl font-semibold text-gray-900 dark:text-white"),g(a,"class","flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"),g(f,"class","p-6"),g(n,"class",p="relative w-full "+r[3]+" glass rounded-lg shadow-xl"),g(n,"role","dialog"),g(n,"aria-modal","true"),g(s,"class","flex min-h-full items-center justify-center p-4"),g(e,"class","fixed inset-0 z-50 overflow-y-auto")},m(L,W){N(L,e,W),u(e,l),u(e,t),u(e,s),u(s,n),u(n,a),u(a,i),u(i,o),u(a,c),C&&C.m(a,null),u(n,m),u(n,f),F&&F.m(f,null),u(n,d),H&&H.m(n,null),I=!0,w||(_=[De(l,"click",r[4]),De(n,"click",ql(r[10]))],w=!0)},p(L,W){(!I||W&2)&&le(o,L[1]),L[2]?C?(C.p(L,W),W&4&&k(C,1)):(C=Jt(L),C.c(),k(C,1),C.m(a,null)):C&&(ce(),D(C,1,1,()=>{C=null}),fe()),F&&F.p&&(!I||W&256)&&Ae(F,T,L,L[8],I?Me(T,L[8],W,null):Ve(L[8]),null),L[6].footer?H?(H.p(L,W),W&64&&k(H,1)):(H=Gt(L),H.c(),k(H,1),H.m(n,null)):H&&(ce(),D(H,1,1,()=>{H=null}),fe()),(!I||W&8&&p!==(p="relative w-full "+L[3]+" glass rounded-lg shadow-xl"))&&g(n,"class",p)},i(L){I||(k(C),k(F,L),k(H),L&&xe(()=>{I&&(y||(y=je(n,dt,{duration:200},!0)),y.run(1))}),L&&xe(()=>{I&&(b||(b=je(e,ut,{duration:200},!0)),b.run(1))}),I=!0)},o(L){D(C),D(F,L),D(H),L&&(y||(y=je(n,dt,{duration:200},!1)),y.run(0)),L&&(b||(b=je(e,ut,{duration:200},!1)),b.run(0)),I=!1},d(L){L&&h(e),C&&C.d(),F&&F.d(L),H&&H.d(),L&&y&&y.end(),L&&b&&b.end(),w=!1,Dt(_)}}}function Jt(r){let e,l,t,s,n;return l=new Al({props:{class:"w-5 h-5"}}),{c(){e=$("button"),R(l.$$.fragment),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var i=E(e);Q(l.$$.fragment,i),i.forEach(h),this.h()},h(){g(e,"class","p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors")},m(a,i){N(a,e,i),B(l,e,null),t=!0,s||(n=De(e,"click",r[4]),s=!0)},p:ze,i(a){t||(k(l.$$.fragment,a),t=!0)},o(a){D(l.$$.fragment,a),t=!1},d(a){a&&h(e),O(l),s=!1,n()}}}function Gt(r){let e,l;const t=r[9].footer,s=Te(t,r,r[8],Qt);return{c(){e=$("div"),s&&s.c(),this.h()},l(n){e=v(n,"DIV",{class:!0});var a=E(e);s&&s.l(a),a.forEach(h),this.h()},h(){g(e,"class","p-6 border-t border-gray-200 dark:border-gray-700")},m(n,a){N(n,e,a),s&&s.m(e,null),l=!0},p(n,a){s&&s.p&&(!l||a&256)&&Ae(s,t,n,n[8],l?Me(t,n[8],a,En):Ve(n[8]),Qt)},i(n){l||(k(s,n),l=!0)},o(n){D(s,n),l=!1},d(n){n&&h(e),s&&s.d(n)}}}function Cn(r){let e,l,t,s,n=r[0]&&Zt(r);return{c(){n&&n.c(),e=et()},l(a){n&&n.l(a),e=et()},m(a,i){n&&n.m(a,i),N(a,e,i),l=!0,t||(s=De(window,"keydown",r[5]),t=!0)},p(a,[i]){a[0]?n?(n.p(a,i),i&1&&k(n,1)):(n=Zt(a),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(ce(),D(n,1,1,()=>{n=null}),fe())},i(a){l||(k(n),l=!0)},o(a){D(n),l=!1},d(a){a&&h(e),n&&n.d(a),t=!1,s()}}}function Pn(r,e,l){let t,{$$slots:s={},$$scope:n}=e;const a=Wl(s);let{open:i=!1}=e,{title:o=""}=e,{size:c="md"}=e,{closable:m=!0}=e;const f=Cl();function d(){m&&(l(0,i=!1),f("close"))}function p(b){b.key==="Escape"&&m&&d()}function y(b){Ql.call(this,r,b)}return r.$$set=b=>{"open"in b&&l(0,i=b.open),"title"in b&&l(1,o=b.title),"size"in b&&l(7,c=b.size),"closable"in b&&l(2,m=b.closable),"$$scope"in b&&l(8,n=b.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&l(3,t={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[c])},[i,o,m,t,d,p,a,c,n,s,y]}class Mt extends be{constructor(e){super(),we(this,e,Pn,Cn,ke,{open:0,title:1,size:7,closable:2})}}function Sn(r){let e,l,t,s="Share link created successfully!",n,a,i,o,c,m,f,d;c=new Ee({props:{variant:"secondary",icon:r[9]?Lt:Et,$$slots:{default:[Tn]},$$scope:{ctx:r}}}),c.$on("click",r[11]);let p=r[6]&&Kt(),y=r[5]!=="never"&&Yt(r);return{c(){e=$("div"),l=$("div"),t=$("p"),t.textContent=s,n=S(),a=$("div"),i=$("input"),o=S(),R(c.$$.fragment),m=S(),p&&p.c(),f=S(),y&&y.c(),this.h()},l(b){e=v(b,"DIV",{class:!0});var I=E(e);l=v(I,"DIV",{class:!0});var w=E(l);t=v(w,"P",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1n19nw0"&&(t.textContent=s),n=P(w),a=v(w,"DIV",{class:!0});var _=E(a);i=v(_,"INPUT",{type:!0,class:!0}),o=P(_),Q(c.$$.fragment,_),_.forEach(h),w.forEach(h),m=P(I),p&&p.l(I),f=P(I),y&&y.l(I),I.forEach(h),this.h()},h(){g(t,"class","text-sm font-medium text-green-800 dark:text-green-200 mb-2"),g(i,"type","text"),i.value=r[8],i.readOnly=!0,g(i,"class","flex-1 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm"),g(a,"class","flex gap-2"),g(l,"class","p-4 bg-green-50 dark:bg-green-900/20 rounded-lg"),g(e,"class","space-y-4")},m(b,I){N(b,e,I),u(e,l),u(l,t),u(l,n),u(l,a),u(a,i),u(a,o),B(c,a,null),u(e,m),p&&p.m(e,null),u(e,f),y&&y.m(e,null),d=!0},p(b,I){(!d||I&256&&i.value!==b[8])&&(i.value=b[8]);const w={};I&512&&(w.icon=b[9]?Lt:Et),I&4194816&&(w.$$scope={dirty:I,ctx:b}),c.$set(w),b[6]?p||(p=Kt(),p.c(),p.m(e,f)):p&&(p.d(1),p=null),b[5]!=="never"?y?y.p(b,I):(y=Yt(b),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i(b){d||(k(c.$$.fragment,b),d=!0)},o(b){D(c.$$.fragment,b),d=!1},d(b){b&&h(e),O(c),p&&p.d(),y&&y.d()}}}function Nn(r){let e,l,t,s,n,a,i="Share Link",o,c,m,f,d,p,y="Share with Email",b,I,w,_,C,T,F,H,L,W,q="Can view",X,Z="Can download",z,V="Can edit",M,G,K,x,re,pe,ie,me,_e="Never",Ce,Ue="In 1 day",he,ne="In 7 days",He,ge="In 30 days",Ze,Le,Ke,We;s=new os({props:{class:"w-4 h-4"}}),f=new cs({props:{class:"w-4 h-4"}});let Pe=r[2]==="email"&&Xt(r);T=new Vl({props:{class:"inline w-4 h-4 mr-1"}}),x=new fs({props:{class:"inline w-4 h-4 mr-1"}});let ae=r[2]==="link"&&xt(r);return{c(){e=$("div"),l=$("div"),t=$("button"),R(s.$$.fragment),n=S(),a=$("span"),a.textContent=i,c=S(),m=$("button"),R(f.$$.fragment),d=S(),p=$("span"),p.textContent=y,I=S(),Pe&&Pe.c(),w=S(),_=$("div"),C=$("label"),R(T.$$.fragment),F=j(`
					Permissions`),H=S(),L=$("select"),W=$("option"),W.textContent=q,X=$("option"),X.textContent=Z,z=$("option"),z.textContent=V,M=S(),G=$("div"),K=$("label"),R(x.$$.fragment),re=j(`
					Expires`),pe=S(),ie=$("select"),me=$("option"),me.textContent=_e,Ce=$("option"),Ce.textContent=Ue,he=$("option"),he.textContent=ne,He=$("option"),He.textContent=ge,Ze=S(),ae&&ae.c(),this.h()},l(oe){e=v(oe,"DIV",{class:!0});var ve=E(e);l=v(ve,"DIV",{class:!0});var A=E(l);t=v(A,"BUTTON",{class:!0});var Y=E(t);Q(s.$$.fragment,Y),n=P(Y),a=v(Y,"SPAN",{"data-svelte-h":!0}),se(a)!=="svelte-pivjzj"&&(a.textContent=i),Y.forEach(h),c=P(A),m=v(A,"BUTTON",{class:!0});var J=E(m);Q(f.$$.fragment,J),d=P(J),p=v(J,"SPAN",{"data-svelte-h":!0}),se(p)!=="svelte-538saz"&&(p.textContent=y),J.forEach(h),A.forEach(h),I=P(ve),Pe&&Pe.l(ve),w=P(ve),_=v(ve,"DIV",{});var te=E(_);C=v(te,"LABEL",{class:!0});var Se=E(C);Q(T.$$.fragment,Se),F=U(Se,`
					Permissions`),Se.forEach(h),H=P(te),L=v(te,"SELECT",{class:!0});var Ie=E(L);W=v(Ie,"OPTION",{"data-svelte-h":!0}),se(W)!=="svelte-8xsj2c"&&(W.textContent=q),X=v(Ie,"OPTION",{"data-svelte-h":!0}),se(X)!=="svelte-cbwcc0"&&(X.textContent=Z),z=v(Ie,"OPTION",{"data-svelte-h":!0}),se(z)!=="svelte-13tb2a8"&&(z.textContent=V),Ie.forEach(h),te.forEach(h),M=P(ve),G=v(ve,"DIV",{});var Fe=E(G);K=v(Fe,"LABEL",{class:!0});var Ne=E(K);Q(x.$$.fragment,Ne),re=U(Ne,`
					Expires`),Ne.forEach(h),pe=P(Fe),ie=v(Fe,"SELECT",{class:!0});var ye=E(ie);me=v(ye,"OPTION",{"data-svelte-h":!0}),se(me)!=="svelte-1qh6u06"&&(me.textContent=_e),Ce=v(ye,"OPTION",{"data-svelte-h":!0}),se(Ce)!=="svelte-19ltkk9"&&(Ce.textContent=Ue),he=v(ye,"OPTION",{"data-svelte-h":!0}),se(he)!=="svelte-d64yp3"&&(he.textContent=ne),He=v(ye,"OPTION",{"data-svelte-h":!0}),se(He)!=="svelte-1ptp9q5"&&(He.textContent=ge),ye.forEach(h),Fe.forEach(h),Ze=P(ve),ae&&ae.l(ve),ve.forEach(h),this.h()},h(){g(t,"class",o="flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md transition-colors "+(r[2]==="link"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700")),g(m,"class",b="flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md transition-colors "+(r[2]==="email"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700")),g(l,"class","flex gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg"),g(C,"class","block text-sm font-medium mb-2"),W.__value="view",Ge(W,W.__value),X.__value="download",Ge(X,X.__value),z.__value="edit",Ge(z,z.__value),g(L,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700"),r[4]===void 0&&xe(()=>r[18].call(L)),g(K,"class","block text-sm font-medium mb-2"),me.__value="never",Ge(me,me.__value),Ce.__value="1day",Ge(Ce,Ce.__value),he.__value="7days",Ge(he,he.__value),He.__value="30days",Ge(He,He.__value),g(ie,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700"),r[5]===void 0&&xe(()=>r[19].call(ie)),g(e,"class","space-y-6")},m(oe,ve){N(oe,e,ve),u(e,l),u(l,t),B(s,t,null),u(t,n),u(t,a),u(l,c),u(l,m),B(f,m,null),u(m,d),u(m,p),u(e,I),Pe&&Pe.m(e,null),u(e,w),u(e,_),u(_,C),B(T,C,null),u(C,F),u(_,H),u(_,L),u(L,W),u(L,X),u(L,z),$t(L,r[4],!0),u(e,M),u(e,G),u(G,K),B(x,K,null),u(K,re),u(G,pe),u(G,ie),u(ie,me),u(ie,Ce),u(ie,he),u(ie,He),$t(ie,r[5],!0),u(e,Ze),ae&&ae.m(e,null),Le=!0,Ke||(We=[De(t,"click",r[15]),De(m,"click",r[16]),De(L,"change",r[18]),De(ie,"change",r[19])],Ke=!0)},p(oe,ve){(!Le||ve&4&&o!==(o="flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md transition-colors "+(oe[2]==="link"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700")))&&g(t,"class",o),(!Le||ve&4&&b!==(b="flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md transition-colors "+(oe[2]==="email"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700")))&&g(m,"class",b),oe[2]==="email"?Pe?Pe.p(oe,ve):(Pe=Xt(oe),Pe.c(),Pe.m(e,w)):Pe&&(Pe.d(1),Pe=null),ve&16&&$t(L,oe[4]),ve&32&&$t(ie,oe[5]),oe[2]==="link"?ae?(ae.p(oe,ve),ve&4&&k(ae,1)):(ae=xt(oe),ae.c(),k(ae,1),ae.m(e,null)):ae&&(ce(),D(ae,1,1,()=>{ae=null}),fe())},i(oe){Le||(k(s.$$.fragment,oe),k(f.$$.fragment,oe),k(T.$$.fragment,oe),k(x.$$.fragment,oe),k(ae),Le=!0)},o(oe){D(s.$$.fragment,oe),D(f.$$.fragment,oe),D(T.$$.fragment,oe),D(x.$$.fragment,oe),D(ae),Le=!1},d(oe){oe&&h(e),O(s),O(f),Pe&&Pe.d(),O(T),O(x),ae&&ae.d(),Ke=!1,Dt(We)}}}function Tn(r){let e=r[9]?"Copied!":"Copy",l;return{c(){l=j(e)},l(t){l=U(t,e)},m(t,s){N(t,l,s)},p(t,s){s&512&&e!==(e=t[9]?"Copied!":"Copy")&&le(l,e)},d(t){t&&h(l)}}}function Kt(r){let e,l='<p class="text-sm text-yellow-800 dark:text-yellow-200">This link is password protected. Share the password separately.</p>';return{c(){e=$("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-w9dptn"&&(e.innerHTML=l),this.h()},h(){g(e,"class","p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg")},m(t,s){N(t,e,s)},d(t){t&&h(e)}}}function Yt(r){let e,l,t,s=r[5]==="1day"?"tomorrow":`in ${r[5]}`,n,a;return{c(){e=$("div"),l=$("p"),t=j("This link will expire "),n=j(s),a=j("."),this.h()},l(i){e=v(i,"DIV",{class:!0});var o=E(e);l=v(o,"P",{class:!0});var c=E(l);t=U(c,"This link will expire "),n=U(c,s),a=U(c,"."),c.forEach(h),o.forEach(h),this.h()},h(){g(l,"class","text-sm text-blue-800 dark:text-blue-200"),g(e,"class","p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg")},m(i,o){N(i,e,o),u(e,l),u(l,t),u(l,n),u(l,a)},p(i,o){o&32&&s!==(s=i[5]==="1day"?"tomorrow":`in ${i[5]}`)&&le(n,s)},d(i){i&&h(e)}}}function Xt(r){let e,l,t="Email Address",s,n,a,i;return{c(){e=$("div"),l=$("label"),l.textContent=t,s=S(),n=$("input"),this.h()},l(o){e=v(o,"DIV",{});var c=E(e);l=v(c,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),se(l)!=="svelte-1kzgecv"&&(l.textContent=t),s=P(c),n=v(c,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),c.forEach(h),this.h()},h(){g(l,"for","email"),g(l,"class","block text-sm font-medium mb-2"),g(n,"id","email"),g(n,"type","email"),n.required=!0,g(n,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700"),g(n,"placeholder","user@example.com")},m(o,c){N(o,e,c),u(e,l),u(e,s),u(e,n),Ge(n,r[3]),a||(i=De(n,"input",r[17]),a=!0)},p(o,c){c&8&&n.value!==o[3]&&Ge(n,o[3])},d(o){o&&h(e),a=!1,i()}}}function xt(r){let e,l,t,s,n,a,i,o,c;return t=new us({props:{class:"inline w-4 h-4 mr-1"}}),{c(){e=$("div"),l=$("label"),R(t.$$.fragment),s=j(`
						Password Protection (Optional)`),n=S(),a=$("input"),this.h()},l(m){e=v(m,"DIV",{});var f=E(e);l=v(f,"LABEL",{for:!0,class:!0});var d=E(l);Q(t.$$.fragment,d),s=U(d,`
						Password Protection (Optional)`),d.forEach(h),n=P(f),a=v(f,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),f.forEach(h),this.h()},h(){g(l,"for","password"),g(l,"class","block text-sm font-medium mb-2"),g(a,"id","password"),g(a,"type","password"),g(a,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700"),g(a,"placeholder","Enter password (optional)")},m(m,f){N(m,e,f),u(e,l),B(t,l,null),u(l,s),u(e,n),u(e,a),Ge(a,r[6]),i=!0,o||(c=De(a,"input",r[20]),o=!0)},p(m,f){f&64&&a.value!==m[6]&&Ge(a,m[6])},i(m){i||(k(t.$$.fragment,m),i=!0)},o(m){D(t.$$.fragment,m),i=!1},d(m){m&&h(e),O(t),o=!1,c()}}}function An(r){let e,l,t,s;const n=[Nn,Sn],a=[];function i(o,c){return o[8]?1:0}return e=i(r),l=a[e]=n[e](r),{c(){l.c(),t=et()},l(o){l.l(o),t=et()},m(o,c){a[e].m(o,c),N(o,t,c),s=!0},p(o,c){let m=e;e=i(o),e===m?a[e].p(o,c):(ce(),D(a[m],1,1,()=>{a[m]=null}),fe(),l=a[e],l?l.p(o,c):(l=a[e]=n[e](o),l.c()),k(l,1),l.m(t.parentNode,t))},i(o){s||(k(l),s=!0)},o(o){D(l),s=!1},d(o){o&&h(t),a[e].d(o)}}}function Vn(r){let e,l,t,s;return e=new Ee({props:{variant:"ghost",$$slots:{default:[Fn]},$$scope:{ctx:r}}}),e.$on("click",r[13]),t=new Ee({props:{$$slots:{default:[zn]},$$scope:{ctx:r}}}),t.$on("click",r[14]),{c(){R(e.$$.fragment),l=S(),R(t.$$.fragment)},l(n){Q(e.$$.fragment,n),l=P(n),Q(t.$$.fragment,n)},m(n,a){B(e,n,a),N(n,l,a),B(t,n,a),s=!0},p(n,a){const i={};a&4194304&&(i.$$scope={dirty:a,ctx:n}),e.$set(i);const o={};a&4194304&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(k(e.$$.fragment,n),k(t.$$.fragment,n),s=!0)},o(n){D(e.$$.fragment,n),D(t.$$.fragment,n),s=!1},d(n){n&&h(l),O(e,n),O(t,n)}}}function Mn(r){let e,l,t,s;return e=new Ee({props:{variant:"ghost",$$slots:{default:[Un]},$$scope:{ctx:r}}}),e.$on("click",r[12]),t=new Ee({props:{loading:r[7],$$slots:{default:[jn]},$$scope:{ctx:r}}}),t.$on("click",r[10]),{c(){R(e.$$.fragment),l=S(),R(t.$$.fragment)},l(n){Q(e.$$.fragment,n),l=P(n),Q(t.$$.fragment,n)},m(n,a){B(e,n,a),N(n,l,a),B(t,n,a),s=!0},p(n,a){const i={};a&4194304&&(i.$$scope={dirty:a,ctx:n}),e.$set(i);const o={};a&128&&(o.loading=n[7]),a&4194308&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(k(e.$$.fragment,n),k(t.$$.fragment,n),s=!0)},o(n){D(e.$$.fragment,n),D(t.$$.fragment,n),s=!1},d(n){n&&h(l),O(e,n),O(t,n)}}}function Fn(r){let e;return{c(){e=j("Create Another")},l(l){e=U(l,"Create Another")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function zn(r){let e;return{c(){e=j("Done")},l(l){e=U(l,"Done")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function Un(r){let e;return{c(){e=j("Cancel")},l(l){e=U(l,"Cancel")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function jn(r){let e=r[2]==="link"?"Create Link":"Send Invitation",l;return{c(){l=j(e)},l(t){l=U(t,e)},m(t,s){N(t,l,s)},p(t,s){s&4&&e!==(e=t[2]==="link"?"Create Link":"Send Invitation")&&le(l,e)},d(t){t&&h(l)}}}function Ln(r){let e,l,t,s;const n=[Mn,Vn],a=[];function i(o,c){return o[8]?1:0}return l=i(r),t=a[l]=n[l](r),{c(){e=$("div"),t.c(),this.h()},l(o){e=v(o,"DIV",{slot:!0,class:!0});var c=E(e);t.l(c),c.forEach(h),this.h()},h(){g(e,"slot","footer"),g(e,"class","flex justify-end gap-3")},m(o,c){N(o,e,c),a[l].m(e,null),s=!0},p(o,c){let m=l;l=i(o),l===m?a[l].p(o,c):(ce(),D(a[m],1,1,()=>{a[m]=null}),fe(),t=a[l],t?t.p(o,c):(t=a[l]=n[l](o),t.c()),k(t,1),t.m(e,null))},i(o){s||(k(t),s=!0)},o(o){D(t),s=!1},d(o){o&&h(e),a[l].d()}}}function On(r){var a;let e,l,t;function s(i){r[21](i)}let n={title:"Share "+(((a=r[1])==null?void 0:a.name)||"Item"),size:"lg",$$slots:{footer:[Ln],default:[An]},$$scope:{ctx:r}};return r[0]!==void 0&&(n.open=r[0]),e=new Mt({props:n}),lt.push(()=>ot(e,"open",s)),{c(){R(e.$$.fragment)},l(i){Q(e.$$.fragment,i)},m(i,o){B(e,i,o),t=!0},p(i,[o]){var m;const c={};o&2&&(c.title="Share "+(((m=i[1])==null?void 0:m.name)||"Item")),o&4195325&&(c.$$scope={dirty:o,ctx:i}),!l&&o&1&&(l=!0,c.open=i[0],ct(()=>l=!1)),e.$set(c)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Bn(r){const e=new Date;switch(r){case"1day":e.setDate(e.getDate()+1);break;case"7days":e.setDate(e.getDate()+7);break;case"30days":e.setDate(e.getDate()+30);break}return e}function Rn(r,e,l){let{open:t=!1}=e,{item:s=null}=e,n="link",a="",i="view",o="never",c="",m=!1,f="",d=!1;async function p(){if(s){l(7,m=!0);try{const q=await is.createShare(s.id,{type:n==="link"?"public":"user",email:n==="email"?a:void 0,permissions:[i],expiresAt:o!=="never"?Bn(o):void 0,password:c||void 0});n==="link"?l(8,f=`${window.location.origin}/shared/${q.id}`):(alert("Share invitation sent!"),l(0,t=!1))}catch{alert("Failed to create share")}finally{l(7,m=!1)}}}async function y(){try{await navigator.clipboard.writeText(f),l(9,d=!0),setTimeout(()=>l(9,d=!1),2e3)}catch{alert("Failed to copy link")}}const b=()=>l(0,t=!1),I=()=>l(8,f=""),w=()=>l(0,t=!1),_=()=>l(2,n="link"),C=()=>l(2,n="email");function T(){a=this.value,l(3,a),l(0,t)}function F(){i=jt(this),l(4,i),l(0,t)}function H(){o=jt(this),l(5,o),l(0,t)}function L(){c=this.value,l(6,c),l(0,t)}function W(q){t=q,l(0,t)}return r.$$set=q=>{"open"in q&&l(0,t=q.open),"item"in q&&l(1,s=q.item)},r.$$.update=()=>{r.$$.dirty&1&&(t||(l(2,n="link"),l(3,a=""),l(4,i="view"),l(5,o="never"),l(6,c=""),l(8,f="")))},[t,s,n,a,i,o,c,m,f,d,p,y,b,I,w,_,C,T,F,H,L,W]}class Hn extends be{constructor(e){super(),we(this,e,Rn,On,ke,{open:0,item:1})}}function el(r){let e,l,t,s,n,a,i,o,c,m,f,d,p,y,b,I,w,_,C="Size:",T,F,H=kt(r[1].size)+"",L,W,q,X,Z="Type:",z,V,M=r[1].mimeType+"",G,K,x,re,pe="Modified:",ie,me,_e=new Date(r[1].modifiedAt).toLocaleDateString()+"",Ce,Ue,he,ne,He="Created:",ge,Ze,Le=new Date(r[1].createdAt).toLocaleDateString()+"",Ke,We;const Pe=[qn,Wn],ae=[];function oe(J,te){return J[13]?0:J[12]?1:-1}~(t=oe(r))&&(s=ae[t]=Pe[t](r)),i=new Ee({props:{variant:"ghost",size:"sm",icon:At,$$slots:{default:[Yn]},$$scope:{ctx:r}}}),i.$on("click",wr),c=new Ee({props:{variant:"primary",size:"sm",icon:nt,$$slots:{default:[Xn]},$$scope:{ctx:r}}}),c.$on("click",r[19]);const ve=[ar,rr,nr,sr,lr,tr,er,xn],A=[];function Y(J,te){return J[13]?0:J[12]?1:J[15]||J[11]?2:J[10]?3:J[9]?4:J[7]?5:J[8]?6:7}return d=Y(r),p=A[d]=ve[d](r),{c(){e=$("div"),l=$("div"),s&&s.c(),n=S(),a=$("div"),R(i.$$.fragment),o=S(),R(c.$$.fragment),m=S(),f=$("div"),p.c(),y=S(),b=$("div"),I=$("div"),w=$("div"),_=$("span"),_.textContent=C,T=S(),F=$("span"),L=j(H),W=S(),q=$("div"),X=$("span"),X.textContent=Z,z=S(),V=$("span"),G=j(M),K=S(),x=$("div"),re=$("span"),re.textContent=pe,ie=S(),me=$("span"),Ce=j(_e),Ue=S(),he=$("div"),ne=$("span"),ne.textContent=He,ge=S(),Ze=$("span"),Ke=j(Le),this.h()},l(J){e=v(J,"DIV",{class:!0});var te=E(e);l=v(te,"DIV",{class:!0});var Se=E(l);s&&s.l(Se),Se.forEach(h),n=P(te),a=v(te,"DIV",{class:!0});var Ie=E(a);Q(i.$$.fragment,Ie),o=P(Ie),Q(c.$$.fragment,Ie),Ie.forEach(h),te.forEach(h),m=P(J),f=v(J,"DIV",{class:!0,style:!0});var Fe=E(f);p.l(Fe),Fe.forEach(h),y=P(J),b=v(J,"DIV",{class:!0});var Ne=E(b);I=v(Ne,"DIV",{class:!0});var ye=E(I);w=v(ye,"DIV",{});var $e=E(w);_=v($e,"SPAN",{class:!0,"data-svelte-h":!0}),se(_)!=="svelte-1wbyszd"&&(_.textContent=C),T=P($e),F=v($e,"SPAN",{class:!0});var mt=E(F);L=U(mt,H),mt.forEach(h),$e.forEach(h),W=P(ye),q=v(ye,"DIV",{});var pt=E(q);X=v(pt,"SPAN",{class:!0,"data-svelte-h":!0}),se(X)!=="svelte-1n41c78"&&(X.textContent=Z),z=P(pt),V=v(pt,"SPAN",{class:!0});var Ft=E(V);G=U(Ft,M),Ft.forEach(h),pt.forEach(h),K=P(ye),x=v(ye,"DIV",{});var gt=E(x);re=v(gt,"SPAN",{class:!0,"data-svelte-h":!0}),se(re)!=="svelte-1h50ae7"&&(re.textContent=pe),ie=P(gt),me=v(gt,"SPAN",{class:!0});var zt=E(me);Ce=U(zt,_e),zt.forEach(h),gt.forEach(h),Ue=P(ye),he=v(ye,"DIV",{});var _t=E(he);ne=v(_t,"SPAN",{class:!0,"data-svelte-h":!0}),se(ne)!=="svelte-6df9hs"&&(ne.textContent=He),ge=P(_t),Ze=v(_t,"SPAN",{class:!0});var Ut=E(Ze);Ke=U(Ut,Le),Ut.forEach(h),_t.forEach(h),ye.forEach(h),Ne.forEach(h),this.h()},h(){g(l,"class","flex items-center gap-2"),g(a,"class","flex items-center gap-2"),g(e,"class","flex items-center justify-between mb-4 pb-4 border-b border-gray-200 dark:border-gray-700"),g(f,"class","preview-content overflow-auto svelte-1ovb3zr"),ft(f,"max-height","70vh"),g(_,"class","text-gray-500"),g(F,"class","ml-2 font-medium"),g(X,"class","text-gray-500"),g(V,"class","ml-2 font-medium"),g(re,"class","text-gray-500"),g(me,"class","ml-2 font-medium"),g(ne,"class","text-gray-500"),g(Ze,"class","ml-2 font-medium"),g(I,"class","grid grid-cols-2 gap-4 text-sm"),g(b,"class","mt-4 pt-4 border-t border-gray-200 dark:border-gray-700")},m(J,te){N(J,e,te),u(e,l),~t&&ae[t].m(l,null),u(e,n),u(e,a),B(i,a,null),u(a,o),B(c,a,null),N(J,m,te),N(J,f,te),A[d].m(f,null),N(J,y,te),N(J,b,te),u(b,I),u(I,w),u(w,_),u(w,T),u(w,F),u(F,L),u(I,W),u(I,q),u(q,X),u(q,z),u(q,V),u(V,G),u(I,K),u(I,x),u(x,re),u(x,ie),u(x,me),u(me,Ce),u(I,Ue),u(I,he),u(he,ne),u(he,ge),u(he,Ze),u(Ze,Ke),We=!0},p(J,te){let Se=t;t=oe(J),t===Se?~t&&ae[t].p(J,te):(s&&(ce(),D(ae[Se],1,1,()=>{ae[Se]=null}),fe()),~t?(s=ae[t],s?s.p(J,te):(s=ae[t]=Pe[t](J),s.c()),k(s,1),s.m(l,null)):s=null);const Ie={};te&268435456&&(Ie.$$scope={dirty:te,ctx:J}),i.$set(Ie);const Fe={};te&268435456&&(Fe.$$scope={dirty:te,ctx:J}),c.$set(Fe);let Ne=d;d=Y(J),d===Ne?A[d].p(J,te):(ce(),D(A[Ne],1,1,()=>{A[Ne]=null}),fe(),p=A[d],p?p.p(J,te):(p=A[d]=ve[d](J),p.c()),k(p,1),p.m(f,null)),(!We||te&2)&&H!==(H=kt(J[1].size)+"")&&le(L,H),(!We||te&2)&&M!==(M=J[1].mimeType+"")&&le(G,M),(!We||te&2)&&_e!==(_e=new Date(J[1].modifiedAt).toLocaleDateString()+"")&&le(Ce,_e),(!We||te&2)&&Le!==(Le=new Date(J[1].createdAt).toLocaleDateString()+"")&&le(Ke,Le)},i(J){We||(k(s),k(i.$$.fragment,J),k(c.$$.fragment,J),k(p),We=!0)},o(J){D(s),D(i.$$.fragment,J),D(c.$$.fragment,J),D(p),We=!1},d(J){J&&(h(e),h(m),h(f),h(y),h(b)),~t&&ae[t].d(),O(i),O(c),A[d].d()}}}function Wn(r){let e,l,t,s,n,a,i,o,c,m;return e=new Ee({props:{variant:"ghost",size:"sm",icon:Kl,disabled:r[4]<=1,$$slots:{default:[Qn]},$$scope:{ctx:r}}}),e.$on("click",r[20]),c=new Ee({props:{variant:"ghost",size:"sm",icon:Nl,disabled:r[4]>=r[5],$$slots:{default:[Zn]},$$scope:{ctx:r}}}),c.$on("click",r[21]),{c(){R(e.$$.fragment),l=S(),t=$("span"),s=j("Page "),n=j(r[4]),a=j(" of "),i=j(r[5]),o=S(),R(c.$$.fragment),this.h()},l(f){Q(e.$$.fragment,f),l=P(f),t=v(f,"SPAN",{class:!0});var d=E(t);s=U(d,"Page "),n=U(d,r[4]),a=U(d," of "),i=U(d,r[5]),d.forEach(h),o=P(f),Q(c.$$.fragment,f),this.h()},h(){g(t,"class","text-sm text-gray-500 px-2")},m(f,d){B(e,f,d),N(f,l,d),N(f,t,d),u(t,s),u(t,n),u(t,a),u(t,i),N(f,o,d),B(c,f,d),m=!0},p(f,d){const p={};d&16&&(p.disabled=f[4]<=1),d&268435456&&(p.$$scope={dirty:d,ctx:f}),e.$set(p),(!m||d&16)&&le(n,f[4]),(!m||d&32)&&le(i,f[5]);const y={};d&48&&(y.disabled=f[4]>=f[5]),d&268435456&&(y.$$scope={dirty:d,ctx:f}),c.$set(y)},i(f){m||(k(e.$$.fragment,f),k(c.$$.fragment,f),m=!0)},o(f){D(e.$$.fragment,f),D(c.$$.fragment,f),m=!1},d(f){f&&(h(l),h(t),h(o)),O(e,f),O(c,f)}}}function qn(r){let e,l,t,s,n,a,i,o,c,m;return e=new Ee({props:{variant:"ghost",size:"sm",icon:dn,$$slots:{default:[Jn]},$$scope:{ctx:r}}}),e.$on("click",r[16]),t=new Ee({props:{variant:"ghost",size:"sm",icon:gn,$$slots:{default:[Gn]},$$scope:{ctx:r}}}),t.$on("click",r[17]),n=new Ee({props:{variant:"ghost",size:"sm",icon:xs,$$slots:{default:[Kn]},$$scope:{ctx:r}}}),n.$on("click",r[18]),{c(){R(e.$$.fragment),l=S(),R(t.$$.fragment),s=S(),R(n.$$.fragment),a=S(),i=$("span"),o=j(r[2]),c=j("%"),this.h()},l(f){Q(e.$$.fragment,f),l=P(f),Q(t.$$.fragment,f),s=P(f),Q(n.$$.fragment,f),a=P(f),i=v(f,"SPAN",{class:!0});var d=E(i);o=U(d,r[2]),c=U(d,"%"),d.forEach(h),this.h()},h(){g(i,"class","text-sm text-gray-500 ml-2")},m(f,d){B(e,f,d),N(f,l,d),B(t,f,d),N(f,s,d),B(n,f,d),N(f,a,d),N(f,i,d),u(i,o),u(i,c),m=!0},p(f,d){const p={};d&268435456&&(p.$$scope={dirty:d,ctx:f}),e.$set(p);const y={};d&268435456&&(y.$$scope={dirty:d,ctx:f}),t.$set(y);const b={};d&268435456&&(b.$$scope={dirty:d,ctx:f}),n.$set(b),(!m||d&4)&&le(o,f[2])},i(f){m||(k(e.$$.fragment,f),k(t.$$.fragment,f),k(n.$$.fragment,f),m=!0)},o(f){D(e.$$.fragment,f),D(t.$$.fragment,f),D(n.$$.fragment,f),m=!1},d(f){f&&(h(l),h(s),h(a),h(i)),O(e,f),O(t,f),O(n,f)}}}function Qn(r){let e;return{c(){e=j("Previous")},l(l){e=U(l,"Previous")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function Zn(r){let e;return{c(){e=j("Next")},l(l){e=U(l,"Next")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function Jn(r){let e;return{c(){e=j("Zoom In")},l(l){e=U(l,"Zoom In")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function Gn(r){let e;return{c(){e=j("Zoom Out")},l(l){e=U(l,"Zoom Out")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function Kn(r){let e;return{c(){e=j("Rotate")},l(l){e=U(l,"Rotate")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function Yn(r){let e;return{c(){e=j("Share")},l(l){e=U(l,"Share")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function Xn(r){let e;return{c(){e=j("Download")},l(l){e=U(l,"Download")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function xn(r){let e,l,t,s,n,a="Preview not available for this file type",i,o,c=(r[1].mimeType||"Unknown type")+"",m,f,d,p;var y=r[22]();function b(I,w){return{props:{class:"w-12 h-12 text-gray-400"}}}return y&&(t=st(y,b())),d=new Ee({props:{class:"mt-4",icon:nt,$$slots:{default:[ir]},$$scope:{ctx:r}}}),d.$on("click",r[19]),{c(){e=$("div"),l=$("div"),t&&R(t.$$.fragment),s=S(),n=$("p"),n.textContent=a,i=S(),o=$("p"),m=j(c),f=S(),R(d.$$.fragment),this.h()},l(I){e=v(I,"DIV",{class:!0});var w=E(e);l=v(w,"DIV",{class:!0});var _=E(l);t&&Q(t.$$.fragment,_),_.forEach(h),s=P(w),n=v(w,"P",{class:!0,"data-svelte-h":!0}),se(n)!=="svelte-1jzrall"&&(n.textContent=a),i=P(w),o=v(w,"P",{class:!0});var C=E(o);m=U(C,c),C.forEach(h),f=P(w),Q(d.$$.fragment,w),w.forEach(h),this.h()},h(){g(l,"class","w-24 h-24 mx-auto bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4"),g(n,"class","text-gray-500 mb-2"),g(o,"class","text-sm text-gray-400"),g(e,"class","text-center py-12")},m(I,w){N(I,e,w),u(e,l),t&&B(t,l,null),u(e,s),u(e,n),u(e,i),u(e,o),u(o,m),u(e,f),B(d,e,null),p=!0},p(I,w){if(y!==(y=I[22]())){if(t){ce();const C=t;D(C.$$.fragment,1,0,()=>{O(C,1)}),fe()}y?(t=st(y,b()),R(t.$$.fragment),k(t.$$.fragment,1),B(t,l,null)):t=null}(!p||w&2)&&c!==(c=(I[1].mimeType||"Unknown type")+"")&&le(m,c);const _={};w&268435456&&(_.$$scope={dirty:w,ctx:I}),d.$set(_)},i(I){p||(t&&k(t.$$.fragment,I),k(d.$$.fragment,I),p=!0)},o(I){t&&D(t.$$.fragment,I),D(d.$$.fragment,I),p=!1},d(I){I&&h(e),t&&O(t),O(d)}}}function er(r){let e,l,t,s,n,a,i=r[1].name+"",o,c,m,f="Archive file",d,p,y,b,I="Compressed size:",w,_,C=kt(r[1].size)+"",T,F,H,L,W="Format:",q,X,Z=r[1].mimeType+"",z,V,M,G;return t=new Vt({props:{class:"w-8 h-8 text-orange-500"}}),M=new Ee({props:{class:"w-full",icon:nt,$$slots:{default:[or]},$$scope:{ctx:r}}}),M.$on("click",r[19]),{c(){e=$("div"),l=$("div"),R(t.$$.fragment),s=S(),n=$("div"),a=$("p"),o=j(i),c=S(),m=$("p"),m.textContent=f,d=S(),p=$("div"),y=$("div"),b=$("span"),b.textContent=I,w=S(),_=$("span"),T=j(C),F=S(),H=$("div"),L=$("span"),L.textContent=W,q=S(),X=$("span"),z=j(Z),V=S(),R(M.$$.fragment),this.h()},l(K){e=v(K,"DIV",{class:!0});var x=E(e);l=v(x,"DIV",{class:!0});var re=E(l);Q(t.$$.fragment,re),s=P(re),n=v(re,"DIV",{});var pe=E(n);a=v(pe,"P",{class:!0});var ie=E(a);o=U(ie,i),ie.forEach(h),c=P(pe),m=v(pe,"P",{class:!0,"data-svelte-h":!0}),se(m)!=="svelte-2xv826"&&(m.textContent=f),pe.forEach(h),re.forEach(h),d=P(x),p=v(x,"DIV",{class:!0});var me=E(p);y=v(me,"DIV",{class:!0});var _e=E(y);b=v(_e,"SPAN",{class:!0,"data-svelte-h":!0}),se(b)!=="svelte-8st9ku"&&(b.textContent=I),w=P(_e),_=v(_e,"SPAN",{class:!0});var Ce=E(_);T=U(Ce,C),Ce.forEach(h),_e.forEach(h),F=P(me),H=v(me,"DIV",{class:!0});var Ue=E(H);L=v(Ue,"SPAN",{class:!0,"data-svelte-h":!0}),se(L)!=="svelte-1kjj75v"&&(L.textContent=W),q=P(Ue),X=v(Ue,"SPAN",{class:!0});var he=E(X);z=U(he,Z),he.forEach(h),Ue.forEach(h),me.forEach(h),V=P(x),Q(M.$$.fragment,x),x.forEach(h),this.h()},h(){g(a,"class","font-medium"),g(m,"class","text-sm text-gray-500"),g(l,"class","flex items-center gap-3 mb-4"),g(b,"class","text-gray-500"),g(_,"class","font-medium"),g(y,"class","flex justify-between text-sm"),g(L,"class","text-gray-500"),g(X,"class","font-medium"),g(H,"class","flex justify-between text-sm"),g(p,"class","space-y-2 mb-4"),g(e,"class","bg-gray-50 dark:bg-gray-900 rounded-lg p-6")},m(K,x){N(K,e,x),u(e,l),B(t,l,null),u(l,s),u(l,n),u(n,a),u(a,o),u(n,c),u(n,m),u(e,d),u(e,p),u(p,y),u(y,b),u(y,w),u(y,_),u(_,T),u(p,F),u(p,H),u(H,L),u(H,q),u(H,X),u(X,z),u(e,V),B(M,e,null),G=!0},p(K,x){(!G||x&2)&&i!==(i=K[1].name+"")&&le(o,i),(!G||x&2)&&C!==(C=kt(K[1].size)+"")&&le(T,C),(!G||x&2)&&Z!==(Z=K[1].mimeType+"")&&le(z,Z);const re={};x&268435456&&(re.$$scope={dirty:x,ctx:K}),M.$set(re)},i(K){G||(k(t.$$.fragment,K),k(M.$$.fragment,K),G=!0)},o(K){D(t.$$.fragment,K),D(M.$$.fragment,K),G=!1},d(K){K&&h(e),O(t),O(M)}}}function tr(r){let e,l,t,s,n,a="Office document preview",i,o,c=r[1].name+"",m,f,d,p,y,b,I;return t=new jl({props:{class:"w-12 h-12 text-primary-600"}}),p=new Ee({props:{variant:"outline",size:"sm",$$slots:{default:[cr]},$$scope:{ctx:r}}}),p.$on("click",r[24]),b=new Ee({props:{icon:nt,$$slots:{default:[fr]},$$scope:{ctx:r}}}),b.$on("click",r[19]),{c(){e=$("div"),l=$("div"),R(t.$$.fragment),s=S(),n=$("p"),n.textContent=a,i=S(),o=$("p"),m=j(c),f=S(),d=$("div"),R(p.$$.fragment),y=S(),R(b.$$.fragment),this.h()},l(w){e=v(w,"DIV",{class:!0});var _=E(e);l=v(_,"DIV",{class:!0});var C=E(l);Q(t.$$.fragment,C),C.forEach(h),s=P(_),n=v(_,"P",{class:!0,"data-svelte-h":!0}),se(n)!=="svelte-8wlpg3"&&(n.textContent=a),i=P(_),o=v(_,"P",{class:!0});var T=E(o);m=U(T,c),T.forEach(h),f=P(_),d=v(_,"DIV",{class:!0});var F=E(d);Q(p.$$.fragment,F),y=P(F),Q(b.$$.fragment,F),F.forEach(h),_.forEach(h),this.h()},h(){g(l,"class","w-24 h-24 mx-auto bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mb-4"),g(n,"class","text-gray-500 mb-2"),g(o,"class","text-sm text-gray-400 mb-4"),g(d,"class","flex gap-2"),g(e,"class","flex flex-col items-center justify-center h-[400px] bg-gray-50 dark:bg-gray-900 rounded-lg")},m(w,_){N(w,e,_),u(e,l),B(t,l,null),u(e,s),u(e,n),u(e,i),u(e,o),u(o,m),u(e,f),u(e,d),B(p,d,null),u(d,y),B(b,d,null),I=!0},p(w,_){(!I||_&2)&&c!==(c=w[1].name+"")&&le(m,c);const C={};_&268435456&&(C.$$scope={dirty:_,ctx:w}),p.$set(C);const T={};_&268435456&&(T.$$scope={dirty:_,ctx:w}),b.$set(T)},i(w){I||(k(t.$$.fragment,w),k(p.$$.fragment,w),k(b.$$.fragment,w),I=!0)},o(w){D(t.$$.fragment,w),D(p.$$.fragment,w),D(b.$$.fragment,w),I=!1},d(w){w&&h(e),O(t),O(p),O(b)}}}function lr(r){let e,l,t='<div class="w-24 h-24 mx-auto bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-primary-600" fill="currentColor" viewBox="0 0 20 20"><path d="M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z"></path></svg></div>',s,n,a,i;return{c(){e=$("div"),l=$("div"),l.innerHTML=t,s=S(),n=$("audio"),a=j("Your browser does not support audio playback."),this.h()},l(o){e=v(o,"DIV",{class:!0});var c=E(e);l=v(c,"DIV",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-14g39yy"&&(l.innerHTML=t),s=P(c),n=v(c,"AUDIO",{class:!0,src:!0});var m=E(n);a=U(m,"Your browser does not support audio playback."),m.forEach(h),c.forEach(h),this.h()},h(){g(l,"class","mb-4"),n.controls=!0,g(n,"class","w-full"),tt(n.src,i=`/api/storage/preview/${r[1].id}`)||g(n,"src",i),g(e,"class","bg-gray-50 dark:bg-gray-900 p-8 rounded-lg text-center")},m(o,c){N(o,e,c),u(e,l),u(e,s),u(e,n),u(n,a)},p(o,c){c&2&&!tt(n.src,i=`/api/storage/preview/${o[1].id}`)&&g(n,"src",i)},i:ze,o:ze,d(o){o&&h(e)}}}function sr(r){let e,l,t,s;return{c(){e=$("video"),l=$("track"),t=j(`
						Your browser does not support video playback.`),this.h()},l(n){e=v(n,"VIDEO",{class:!0,src:!0});var a=E(e);l=v(a,"TRACK",{kind:!0}),t=U(a,`
						Your browser does not support video playback.`),a.forEach(h),this.h()},h(){g(l,"kind","captions"),e.controls=!0,g(e,"class","w-full rounded-lg"),tt(e.src,s=`/api/storage/preview/${r[1].id}`)||g(e,"src",s)},m(n,a){N(n,e,a),u(e,l),u(e,t)},p(n,a){a&2&&!tt(e.src,s=`/api/storage/preview/${n[1].id}`)&&g(e,"src",s)},i:ze,o:ze,d(n){n&&h(e)}}}function nr(r){let e,l,t,s,n,a,i,o,c,m=r[11]&&tl(r),f={ctx:r,current:null,token:null,hasCatch:!0,pending:pr,then:dr,catch:ur,value:26,error:27};return Ot(a=fetch(`/api/storage/preview/${r[1].id}`).then(sl),f),{c(){e=$("div"),m&&m.c(),l=S(),t=$("div"),s=$("pre"),n=j("								"),f.block.c(),i=j(`
							`),this.h()},l(d){e=v(d,"DIV",{class:!0});var p=E(e);m&&m.l(p),l=P(p),t=v(p,"DIV",{class:!0});var y=E(t);s=v(y,"PRE",{class:!0});var b=E(s);n=U(b,"								"),f.block.l(b),i=U(b,`
							`),b.forEach(h),y.forEach(h),p.forEach(h),this.h()},h(){g(s,"class",o="text-sm font-mono whitespace-pre break-words "+(r[11]?"code-highlight":"")+" svelte-1ovb3zr"),g(t,"class","p-4 overflow-x-auto"),g(e,"class","bg-gray-50 dark:bg-gray-900 rounded-lg overflow-hidden")},m(d,p){N(d,e,p),m&&m.m(e,null),u(e,l),u(e,t),u(t,s),u(s,n),f.block.m(s,f.anchor=null),f.mount=()=>s,f.anchor=i,u(s,i),c=!0},p(d,p){r=d,r[11]?m?(m.p(r,p),p&2048&&k(m,1)):(m=tl(r),m.c(),k(m,1),m.m(e,l)):m&&(ce(),D(m,1,1,()=>{m=null}),fe()),f.ctx=r,p&2&&a!==(a=fetch(`/api/storage/preview/${r[1].id}`).then(sl))&&Ot(a,f)||ms(f,r,p),(!c||p&2048&&o!==(o="text-sm font-mono whitespace-pre break-words "+(r[11]?"code-highlight":"")+" svelte-1ovb3zr"))&&g(s,"class",o)},i(d){c||(k(m),c=!0)},o(d){D(m),c=!1},d(d){d&&h(e),m&&m.d(),f.block.d(),f.token=null,f=null}}}function rr(r){let e,l,t,s;const n=[_r,gr],a=[];function i(o,c){return o[6]?0:1}return e=i(r),l=a[e]=n[e](r),{c(){l.c(),t=et()},l(o){l.l(o),t=et()},m(o,c){a[e].m(o,c),N(o,t,c),s=!0},p(o,c){let m=e;e=i(o),e===m?a[e].p(o,c):(ce(),D(a[m],1,1,()=>{a[m]=null}),fe(),l=a[e],l?l.p(o,c):(l=a[e]=n[e](o),l.c()),k(l,1),l.m(t.parentNode,t))},i(o){s||(k(l),s=!0)},o(o){D(l),s=!1},d(o){o&&h(t),a[e].d(o)}}}function ar(r){let e,l,t,s;return{c(){e=$("div"),l=$("img"),this.h()},l(n){e=v(n,"DIV",{class:!0});var a=E(e);l=v(a,"IMG",{src:!0,alt:!0,class:!0,style:!0}),a.forEach(h),this.h()},h(){tt(l.src,t=`/api/storage/preview/${r[1].id}`)||g(l,"src",t),g(l,"alt",s=r[1].name),g(l,"class","max-w-full h-auto transition-transform duration-200"),ft(l,"transform","scale("+r[2]/100+") rotate("+r[3]+"deg)"),g(e,"class","flex justify-center items-center min-h-[400px] bg-gray-50 dark:bg-gray-900 rounded-lg")},m(n,a){N(n,e,a),u(e,l)},p(n,a){a&2&&!tt(l.src,t=`/api/storage/preview/${n[1].id}`)&&g(l,"src",t),a&2&&s!==(s=n[1].name)&&g(l,"alt",s),a&12&&ft(l,"transform","scale("+n[2]/100+") rotate("+n[3]+"deg)")},i:ze,o:ze,d(n){n&&h(e)}}}function ir(r){let e;return{c(){e=j("Download File")},l(l){e=U(l,"Download File")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function or(r){let e;return{c(){e=j("Download Archive")},l(l){e=U(l,"Download Archive")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function cr(r){let e;return{c(){e=j("Open in Office Online")},l(l){e=U(l,"Open in Office Online")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function fr(r){let e;return{c(){e=j("Download")},l(l){e=U(l,"Download")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function tl(r){let e,l,t,s,n,a=ll(r[1].name)+"",i,o,c,m=r[1].name+"",f,d;return t=new zl({props:{class:"w-4 h-4 text-gray-500"}}),{c(){e=$("div"),l=$("div"),R(t.$$.fragment),s=S(),n=$("span"),i=j(a),o=S(),c=$("span"),f=j(m),this.h()},l(p){e=v(p,"DIV",{class:!0});var y=E(e);l=v(y,"DIV",{class:!0});var b=E(l);Q(t.$$.fragment,b),s=P(b),n=v(b,"SPAN",{class:!0});var I=E(n);i=U(I,a),I.forEach(h),b.forEach(h),o=P(y),c=v(y,"SPAN",{class:!0});var w=E(c);f=U(w,m),w.forEach(h),y.forEach(h),this.h()},h(){g(n,"class","text-sm text-gray-500 font-mono"),g(l,"class","flex items-center gap-2"),g(c,"class","text-xs text-gray-400"),g(e,"class","flex items-center justify-between px-4 py-2 bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700")},m(p,y){N(p,e,y),u(e,l),B(t,l,null),u(l,s),u(l,n),u(n,i),u(e,o),u(e,c),u(c,f),d=!0},p(p,y){(!d||y&2)&&a!==(a=ll(p[1].name)+"")&&le(i,a),(!d||y&2)&&m!==(m=p[1].name+"")&&le(f,m)},i(p){d||(k(t.$$.fragment,p),d=!0)},o(p){D(t.$$.fragment,p),d=!1},d(p){p&&h(e),O(t)}}}function ur(r){let e,l,t="Failed to load preview",s;return{c(){e=j(`
									`),l=$("div"),l.textContent=t,s=j(`
								`),this.h()},l(n){e=U(n,`
									`),l=v(n,"DIV",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-1x3axuy"&&(l.textContent=t),s=U(n,`
								`),this.h()},h(){g(l,"class","text-red-500")},m(n,a){N(n,e,a),N(n,l,a),N(n,s,a)},p:ze,d(n){n&&(h(e),h(l),h(s))}}}function dr(r){let e,l;function t(a,i){return a[14]?hr:mr}let s=t(r),n=s(r);return{c(){e=j(`
									`),n.c(),l=j(`
								`)},l(a){e=U(a,`
									`),n.l(a),l=U(a,`
								`)},m(a,i){N(a,e,i),n.m(a,i),N(a,l,i)},p(a,i){s===(s=t(a))&&n?n.p(a,i):(n.d(1),n=s(a),n&&(n.c(),n.m(l.parentNode,l)))},d(a){a&&(h(e),h(l)),n.d(a)}}}function mr(r){let e,l=r[26]+"",t;return{c(){e=$("code"),t=j(l),this.h()},l(s){e=v(s,"CODE",{class:!0});var n=E(e);t=U(n,l),n.forEach(h),this.h()},h(){g(e,"class","svelte-1ovb3zr")},m(s,n){N(s,e,n),u(e,t)},p(s,n){n&2&&l!==(l=s[26]+"")&&le(t,l)},d(s){s&&h(e)}}}function hr(r){let e,l,t=r[26]+"",s;return{c(){e=j(`
										`),l=$("code"),s=j(t),this.h()},l(n){e=U(n,`
										`),l=v(n,"CODE",{class:!0});var a=E(l);s=U(a,t),a.forEach(h),this.h()},h(){g(l,"class","svelte-1ovb3zr")},m(n,a){N(n,e,a),N(n,l,a),u(l,s)},p(n,a){a&2&&t!==(t=n[26]+"")&&le(s,t)},d(n){n&&(h(e),h(l))}}}function pr(r){let e,l,t=`
										<div class="animate-spin h-4 w-4 border-2 border-gray-300 border-t-primary-500 rounded-full"></div>
										<span class="text-gray-500">Loading content...</span>
									`,s;return{c(){e=j(`
									`),l=$("div"),l.innerHTML=t,s=j(`
								`),this.h()},l(n){e=U(n,`
									`),l=v(n,"DIV",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-l0ct2f"&&(l.innerHTML=t),s=U(n,`
								`),this.h()},h(){g(l,"class","flex items-center gap-2")},m(n,a){N(n,e,a),N(n,l,a),N(n,s,a)},p:ze,d(n){n&&(h(e),h(l),h(s))}}}function gr(r){let e,l,t,s,n;return{c(){e=$("iframe"),this.h()},l(a){e=v(a,"IFRAME",{src:!0,title:!0,class:!0}),E(e).forEach(h),this.h()},h(){tt(e.src,l=`/api/storage/preview/${r[1].id}#page=${r[4]}`)||g(e,"src",l),g(e,"title",t=r[1].name),g(e,"class","w-full h-[600px] border border-gray-200 dark:border-gray-700 rounded-lg")},m(a,i){N(a,e,i),s||(n=De(e,"error",r[23]),s=!0)},p(a,i){i&18&&!tt(e.src,l=`/api/storage/preview/${a[1].id}#page=${a[4]}`)&&g(e,"src",l),i&2&&t!==(t=a[1].name)&&g(e,"title",t)},i:ze,o:ze,d(a){a&&h(e),s=!1,n()}}}function _r(r){let e,l,t,s,n="Unable to load PDF preview",a,i,o="The PDF viewer is not available",c,m,f;return l=new Ul({props:{class:"w-16 h-16 text-gray-400 mb-4"}}),m=new Ee({props:{icon:nt,$$slots:{default:[vr]},$$scope:{ctx:r}}}),m.$on("click",r[19]),{c(){e=$("div"),R(l.$$.fragment),t=S(),s=$("p"),s.textContent=n,a=S(),i=$("p"),i.textContent=o,c=S(),R(m.$$.fragment),this.h()},l(d){e=v(d,"DIV",{class:!0});var p=E(e);Q(l.$$.fragment,p),t=P(p),s=v(p,"P",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-prlqfy"&&(s.textContent=n),a=P(p),i=v(p,"P",{class:!0,"data-svelte-h":!0}),se(i)!=="svelte-1lzr01m"&&(i.textContent=o),c=P(p),Q(m.$$.fragment,p),p.forEach(h),this.h()},h(){g(s,"class","text-gray-500 mb-2"),g(i,"class","text-sm text-gray-400 mb-4"),g(e,"class","flex flex-col items-center justify-center h-[600px] bg-gray-50 dark:bg-gray-900 rounded-lg")},m(d,p){N(d,e,p),B(l,e,null),u(e,t),u(e,s),u(e,a),u(e,i),u(e,c),B(m,e,null),f=!0},p(d,p){const y={};p&268435456&&(y.$$scope={dirty:p,ctx:d}),m.$set(y)},i(d){f||(k(l.$$.fragment,d),k(m.$$.fragment,d),f=!0)},o(d){D(l.$$.fragment,d),D(m.$$.fragment,d),f=!1},d(d){d&&h(e),O(l),O(m)}}}function vr(r){let e;return{c(){e=j("Download PDF")},l(l){e=U(l,"Download PDF")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function $r(r){let e,l,t=r[1]&&el(r);return{c(){e=$("div"),t&&t.c(),this.h()},l(s){e=v(s,"DIV",{class:!0});var n=E(e);t&&t.l(n),n.forEach(h),this.h()},h(){g(e,"class","file-preview")},m(s,n){N(s,e,n),t&&t.m(e,null),l=!0},p(s,n){s[1]?t?(t.p(s,n),n&2&&k(t,1)):(t=el(s),t.c(),k(t,1),t.m(e,null)):t&&(ce(),D(t,1,1,()=>{t=null}),fe())},i(s){l||(k(t),l=!0)},o(s){D(t),l=!1},d(s){s&&h(e),t&&t.d()}}}function br(r){var a;let e,l,t;function s(i){r[25](i)}let n={title:((a=r[1])==null?void 0:a.name)||"Preview",size:"xl",closable:!0,$$slots:{default:[$r]},$$scope:{ctx:r}};return r[0]!==void 0&&(n.open=r[0]),e=new Mt({props:n}),lt.push(()=>ot(e,"open",s)),{c(){R(e.$$.fragment)},l(i){Q(e.$$.fragment,i)},m(i,o){B(e,i,o),t=!0},p(i,[o]){var m;const c={};o&2&&(c.title=((m=i[1])==null?void 0:m.name)||"Preview"),o&268500990&&(c.$$scope={dirty:o,ctx:i}),!l&&o&1&&(l=!0,c.open=i[0],ct(()=>l=!1)),e.$set(c)},i(i){t||(k(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function kt(r){if(r===0)return"0 Bytes";const e=1024,l=["Bytes","KB","MB","GB"],t=Math.floor(Math.log(r)/Math.log(e));return Math.round(r/Math.pow(e,t)*100)/100+" "+l[t]}function wr(){}function ll(r){var t;const e=(t=r.split(".").pop())==null?void 0:t.toLowerCase();return{js:"javascript",ts:"typescript",jsx:"javascript",tsx:"typescript",py:"python",java:"java",cpp:"cpp",c:"c",go:"go",rs:"rust",php:"php",rb:"ruby",swift:"swift",json:"json",xml:"xml",yaml:"yaml",yml:"yaml",css:"css",scss:"scss",html:"html",md:"markdown"}[e||""]||"plaintext"}const sl=r=>r.text();function kr(r,e,l){let t,s,n,a,i,o,c,m,f,{open:d=!1}=e,{file:p=null}=e,y=100,b=0,I=1,w=1,_=!1;function C(){l(2,y=Math.min(y+25,200))}function T(){l(2,y=Math.max(y-25,50))}function F(){l(3,b=(b+90)%360)}function H(){p&&window.open(`/api/storage/download/${p.id}`,"_blank")}function L(){I>1&&l(4,I--,I)}function W(){I<w&&l(4,I++,I)}function q(){return t?Rs:s?Ul:a?zl:o?Ms:c?Qs:m?Vt:f?jl:Tl}const X=()=>l(6,_=!0),Z=()=>window.open(`https://view.officeapps.live.com/op/view.aspx?src=${encodeURIComponent(window.location.origin+`/api/storage/download/${p.id}`)}`,"_blank");function z(V){d=V,l(0,d)}return r.$$set=V=>{"open"in V&&l(0,d=V.open),"file"in V&&l(1,p=V.file)},r.$$.update=()=>{r.$$.dirty&2&&l(13,t=p==null?void 0:p.mimeType.startsWith("image/")),r.$$.dirty&2&&l(12,s=(p==null?void 0:p.mimeType)==="application/pdf"),r.$$.dirty&2&&l(15,n=(p==null?void 0:p.mimeType.startsWith("text/"))||[".txt",".md",".json",".js",".ts",".css",".html",".xml",".yaml",".yml"].some(V=>p==null?void 0:p.name.endsWith(V))),r.$$.dirty&2&&l(11,a=[".js",".ts",".jsx",".tsx",".py",".java",".cpp",".c",".go",".rs",".php",".rb",".swift"].some(V=>p==null?void 0:p.name.endsWith(V))),r.$$.dirty&2&&l(14,i=p==null?void 0:p.name.endsWith(".md")),r.$$.dirty&2&&l(10,o=p==null?void 0:p.mimeType.startsWith("video/")),r.$$.dirty&2&&l(9,c=p==null?void 0:p.mimeType.startsWith("audio/")),r.$$.dirty&2&&l(8,m=["application/zip","application/x-rar","application/x-7z-compressed","application/x-tar","application/gzip"].includes((p==null?void 0:p.mimeType)||"")),r.$$.dirty&2&&l(7,f=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"].includes((p==null?void 0:p.mimeType)||"")),r.$$.dirty&1&&(d||(l(2,y=100),l(3,b=0),l(4,I=1),l(5,w=1),l(6,_=!1)))},[d,p,y,b,I,w,_,f,m,c,o,a,s,t,i,n,C,T,F,H,L,W,q,X,Z,z]}class yr extends be{constructor(e){super(),we(this,e,kr,br,ke,{open:0,file:1})}}function nl(r,e,l){const t=r.slice();return t[7]=e[l],t}function rl(r){let e,l,t,s,n,a,i,o,c,m=r[0]===1?"item":"items",f,d,p,y,b,I,w,_,C,T,F,H,L;n=new sn({props:{class:"w-5 h-5"}});let W=Je(r[3]),q=[];for(let z=0;z<W.length;z+=1)q[z]=al(nl(r,W,z));const X=z=>D(q[z],1,1,()=>{q[z]=null});C=new on({props:{class:"w-5 h-5"}});let Z=r[1]&&il();return{c(){e=$("div"),l=$("div"),t=$("div"),s=$("div"),R(n.$$.fragment),a=S(),i=$("span"),o=j(r[0]),c=S(),f=j(m),d=j(" selected"),p=S(),y=$("div"),b=S(),I=$("div");for(let z=0;z<q.length;z+=1)q[z].c();w=S(),_=$("button"),R(C.$$.fragment),T=S(),Z&&Z.c(),this.h()},l(z){e=v(z,"DIV",{class:!0});var V=E(e);l=v(V,"DIV",{class:!0});var M=E(l);t=v(M,"DIV",{class:!0});var G=E(t);s=v(G,"DIV",{class:!0});var K=E(s);Q(n.$$.fragment,K),a=P(K),i=v(K,"SPAN",{class:!0});var x=E(i);o=U(x,r[0]),c=P(x),f=U(x,m),d=U(x," selected"),x.forEach(h),K.forEach(h),p=P(G),y=v(G,"DIV",{class:!0}),E(y).forEach(h),b=P(G),I=v(G,"DIV",{class:!0});var re=E(I);for(let ie=0;ie<q.length;ie+=1)q[ie].l(re);re.forEach(h),w=P(G),_=v(G,"BUTTON",{class:!0,title:!0});var pe=E(_);Q(C.$$.fragment,pe),pe.forEach(h),G.forEach(h),T=P(M),Z&&Z.l(M),M.forEach(h),V.forEach(h),this.h()},h(){g(i,"class","font-medium"),g(s,"class","flex items-center gap-3 svelte-17r5cxt"),g(y,"class","h-8 w-px bg-gray-700 svelte-17r5cxt"),g(I,"class","flex items-center gap-2 svelte-17r5cxt"),g(_,"class","ml-2 p-2 rounded-lg hover:bg-gray-800 transition-colors"),g(_,"title","Clear selection"),g(t,"class","flex items-center gap-6 svelte-17r5cxt"),g(l,"class","bg-gray-900 text-white rounded-lg shadow-xl px-6 py-4 svelte-17r5cxt"),g(e,"class","fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 svelte-17r5cxt")},m(z,V){N(z,e,V),u(e,l),u(l,t),u(t,s),B(n,s,null),u(s,a),u(s,i),u(i,o),u(i,c),u(i,f),u(i,d),u(t,p),u(t,y),u(t,b),u(t,I);for(let M=0;M<q.length;M+=1)q[M]&&q[M].m(I,null);u(t,w),u(t,_),B(C,_,null),u(l,T),Z&&Z.m(l,null),F=!0,H||(L=De(_,"click",r[6]),H=!0)},p(z,V){if((!F||V&1)&&le(o,z[0]),(!F||V&1)&&m!==(m=z[0]===1?"item":"items")&&le(f,m),V&26){W=Je(z[3]);let M;for(M=0;M<W.length;M+=1){const G=nl(z,W,M);q[M]?(q[M].p(G,V),k(q[M],1)):(q[M]=al(G),q[M].c(),k(q[M],1),q[M].m(I,null))}for(ce(),M=W.length;M<q.length;M+=1)X(M);fe()}z[1]?Z||(Z=il(),Z.c(),Z.m(l,null)):Z&&(Z.d(1),Z=null)},i(z){if(!F){k(n.$$.fragment,z);for(let V=0;V<W.length;V+=1)k(q[V]);k(C.$$.fragment,z),F=!0}},o(z){D(n.$$.fragment,z),q=q.filter(Boolean);for(let V=0;V<q.length;V+=1)D(q[V]);D(C.$$.fragment,z),F=!1},d(z){z&&h(e),O(n),St(q,z),O(C),Z&&Z.d(),H=!1,L()}}}function al(r){let e,l,t,s,n=r[7].label+"",a,i,o,c,m;var f=r[7].icon;function d(y,b){return{props:{class:"w-4 h-4"}}}f&&(l=st(f,d()));function p(){return r[5](r[7])}return{c(){e=$("button"),l&&R(l.$$.fragment),t=S(),s=$("span"),a=j(n),i=S(),this.h()},l(y){e=v(y,"BUTTON",{class:!0,title:!0});var b=E(e);l&&Q(l.$$.fragment,b),t=P(b),s=v(b,"SPAN",{class:!0});var I=E(s);a=U(I,n),I.forEach(h),i=P(b),b.forEach(h),this.h()},h(){g(s,"class","hidden sm:inline text-sm"),e.disabled=r[1],g(e,"class","flex items-center gap-2 px-3 py-2 rounded-lg transition-colors "+(r[7].variant==="danger"?"hover:bg-red-600/20 hover:text-red-400":"hover:bg-gray-800")),g(e,"title",r[7].label)},m(y,b){N(y,e,b),l&&B(l,e,null),u(e,t),u(e,s),u(s,a),u(e,i),o=!0,c||(m=De(e,"click",p),c=!0)},p(y,b){if(r=y,f!==(f=r[7].icon)){if(l){ce();const I=l;D(I.$$.fragment,1,0,()=>{O(I,1)}),fe()}f?(l=st(f,d()),R(l.$$.fragment),k(l.$$.fragment,1),B(l,e,t)):l=null}(!o||b&2)&&(e.disabled=r[1])},i(y){o||(l&&k(l.$$.fragment,y),o=!0)},o(y){l&&D(l.$$.fragment,y),o=!1},d(y){y&&h(e),l&&O(l),c=!1,m()}}}function il(r){let e,l='<div class="flex items-center gap-3 svelte-17r5cxt"><div class="animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full svelte-17r5cxt"></div> <span class="text-sm">Processing...</span></div>';return{c(){e=$("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-jrz2b4"&&(e.innerHTML=l),this.h()},h(){g(e,"class","mt-3 pt-3 border-t border-gray-700 svelte-17r5cxt")},m(t,s){N(t,e,s)},d(t){t&&h(e)}}}function Ir(r){let e,l,t=r[0]>0&&rl(r);return{c(){t&&t.c(),e=et()},l(s){t&&t.l(s),e=et()},m(s,n){t&&t.m(s,n),N(s,e,n),l=!0},p(s,[n]){s[0]>0?t?(t.p(s,n),n&1&&k(t,1)):(t=rl(s),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(ce(),D(t,1,1,()=>{t=null}),fe())},i(s){l||(k(t),l=!0)},o(s){D(t),l=!1},d(s){s&&h(e),t&&t.d(s)}}}function Dr(r,e,l){let{selectedCount:t=0}=e,{loading:s=!1}=e;const n=Cl(),a=[{id:"download",label:"Download",icon:nt,variant:"ghost"},{id:"share",label:"Share",icon:At,variant:"ghost"},{id:"copy",label:"Copy",icon:Et,variant:"ghost"},{id:"move",label:"Move",icon:xl,variant:"ghost"},{id:"archive",label:"Archive",icon:Vt,variant:"ghost"},{id:"delete",label:"Delete",icon:Ml,variant:"danger"}];function i(m){n("action",{action:m})}const o=m=>i(m.id),c=()=>n("clear");return r.$$set=m=>{"selectedCount"in m&&l(0,t=m.selectedCount),"loading"in m&&l(1,s=m.loading)},[t,s,n,a,i,o,c]}class Er extends be{constructor(e){super(),we(this,e,Dr,Ir,ke,{selectedCount:0,loading:1})}}class Cr{constructor(){this.ws=null,this.reconnectTimeout=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.connected=ht(!1),this.messages=ht([])}connect(){const e="ws://localhost:8090/ws",l=localStorage.getItem("token");if(!l){console.warn("No auth token found, skipping WebSocket connection");return}try{this.ws=new WebSocket(`${e}?token=${l}`),this.ws.onopen=()=>{console.log("WebSocket connected"),this.connected.set(!0),this.reconnectAttempts=0,this.sendHeartbeat()},this.ws.onmessage=t=>{try{const s=JSON.parse(t.data);s.timestamp=new Date,this.messages.update(n=>{const a=[...n,s];return a.length>100&&a.shift(),a}),typeof window<"u"&&window.dispatchEvent(new CustomEvent("ws:message",{detail:s}))}catch(s){console.error("Failed to parse WebSocket message:",s)}},this.ws.onerror=t=>{console.error("WebSocket error:",t)},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.connected.set(!1),this.ws=null,this.attemptReconnect()}}catch(t){console.error("Failed to create WebSocket connection:",t),this.attemptReconnect()}}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("Max reconnection attempts reached");return}this.reconnectAttempts++;const e=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`Attempting to reconnect in ${e}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.reconnectTimeout=setTimeout(()=>{this.connect()},e)}send(e,l){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return console.warn("WebSocket is not connected"),!1;try{return this.ws.send(JSON.stringify({type:e,data:l,timestamp:new Date})),!0}catch(t){return console.error("Failed to send WebSocket message:",t),!1}}sendHeartbeat(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"ping"})),setTimeout(()=>this.sendHeartbeat(),3e4))}disconnect(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.ws&&(this.ws.close(),this.ws=null),this.connected.set(!1),this.reconnectAttempts=0}subscribe(e,l){if(typeof window>"u")return()=>{};const t=s=>{s.detail.type===e&&l(s.detail.data)};return window.addEventListener("ws:message",t),()=>{window.removeEventListener("ws:message",t)}}}const qe=new Cr;class Pr{constructor(){this.state=ht({activeUsers:new Map,fileActivities:[],lockedFiles:new Set,typingUsers:new Map}),this.subscribe=this.state.subscribe,this.activeUsers$=Xe(this.state,e=>Array.from(e.activeUsers.values())),this.activeUsersInPath$=e=>Xe(this.state,l=>Array.from(l.activeUsers.values()).filter(t=>t.currentPath===e)),this.fileActivities$=Xe(this.state,e=>e.fileActivities),this.recentActivities$=Xe(this.state,e=>e.fileActivities.slice(-10).reverse()),this.lockedFiles$=Xe(this.state,e=>e.lockedFiles),this.isFileLocked$=e=>Xe(this.state,l=>l.lockedFiles.has(e)),typeof window<"u"&&setTimeout(()=>{this.setupWebSocketListeners(),this.startPresenceUpdates()},0)}setupWebSocketListeners(){typeof window<"u"&&(window.addEventListener("ws:message",e=>{this.handleWebSocketMessage(e.detail)}),qe&&qe.connected&&qe.connected.subscribe(e=>{e?this.announcePresence():this.state.update(l=>({...l,activeUsers:new Map}))}))}handleWebSocketMessage(e){switch(e.type){case"user_joined":this.handleUserJoined(e.data);break;case"user_left":this.handleUserLeft(e.data);break;case"file_added":case"file_updated":case"file_deleted":this.handleFileActivity(e);break;case"notification":this.handleNotification(e.data);break}}handleUserJoined(e){const l={id:e.id,name:e.name,email:e.email,avatar:e.avatar,currentPath:e.currentPath||"/",lastActivity:new Date,status:"active"};this.state.update(t=>{const s=new Map(t.activeUsers);s.set(l.id,l);const n=localStorage.getItem("userId");return l.id!==n&&ue.info(`${l.name} joined`,"Now collaborating on this folder"),{...t,activeUsers:s}})}handleUserLeft(e){this.state.update(l=>{const t=new Map(l.activeUsers),s=t.get(e.id);if(s){t.delete(e.id);const n=localStorage.getItem("userId");e.id!==n&&ue.info(`${s.name} left`,"No longer in this folder")}return{...l,activeUsers:t}})}handleFileActivity(e){const l={fileId:e.data.fileId,fileName:e.data.fileName,type:this.getActivityType(e.type),userId:e.userId||"unknown",userName:e.data.userName||"Someone",timestamp:new Date(e.timestamp)};this.state.update(s=>{const n=[...s.fileActivities,l];return n.length>100&&n.shift(),{...s,fileActivities:n}});const t=localStorage.getItem("userId");if(l.userId!==t){const s=this.getActionText(l.type);ue.info(`${l.userName} ${s}`,l.fileName)}}handleNotification(e){ue.add({type:e.type||"info",title:e.title,message:e.message,duration:e.duration})}getActivityType(e){switch(e){case"file_added":return"upload";case"file_updated":return"edit";default:return"view"}}getActionText(e){switch(e){case"upload":return"uploaded";case"edit":return"edited";case"download":return"downloaded";case"view":return"viewed";default:return"interacted with"}}announcePresence(e="/"){const l=localStorage.getItem("userId"),t=localStorage.getItem("userName"),s=localStorage.getItem("userEmail");l&&qe.send("user_joined",{id:l,name:t||"Anonymous",email:s,currentPath:e})}updatePath(e){const l=localStorage.getItem("userId");l&&(this.state.update(t=>{const s=new Map(t.activeUsers),n=s.get(l);return n&&(n.currentPath=e,n.lastActivity=new Date,s.set(l,n)),{...t,activeUsers:s}}),qe.send("user_joined",{id:l,currentPath:e}))}lockFile(e){this.state.update(l=>{const t=new Set(l.lockedFiles);return t.add(e),{...l,lockedFiles:t}}),qe.send("file_locked",{fileId:e})}unlockFile(e){this.state.update(l=>{const t=new Set(l.lockedFiles);return t.delete(e),{...l,lockedFiles:t}}),qe.send("file_unlocked",{fileId:e})}startTyping(e,l){const t=localStorage.getItem("userId");t&&(this.state.update(s=>{const n=new Map(s.typingUsers);return n.set(t,l),{...s,typingUsers:n}}),qe.send("user_typing",{fileId:e,fileName:l}))}stopTyping(){const e=localStorage.getItem("userId");e&&(this.state.update(l=>{const t=new Map(l.typingUsers);return t.delete(e),{...l,typingUsers:t}}),qe.send("user_stopped_typing",{}))}startPresenceUpdates(){setInterval(()=>{if(at(qe.connected)){const l=localStorage.getItem("userId");l&&qe.send("presence_update",{id:l,timestamp:new Date})}},3e4)}cleanupInactiveUsers(){const l=new Date;this.state.update(t=>{const s=new Map(t.activeUsers);for(const[n,a]of s){const i=l.getTime()-a.lastActivity.getTime();i>3e5?s.delete(n):i>6e4&&(a.status="idle")}return{...t,activeUsers:s}})}}const yt=new Pr;function ol(r){let e,l,t,s,n;return{c(){e=$("div"),l=j(r[0]),t=S(),s=$("div"),this.h()},l(a){e=v(a,"DIV",{class:!0,style:!0});var i=E(e);l=U(i,r[0]),t=P(i),s=v(i,"DIV",{class:!0}),E(s).forEach(h),i.forEach(h),this.h()},h(){g(s,"class",n="absolute w-2 h-2 bg-gray-900 dark:bg-gray-700 transform rotate-45 "+(r[1]==="top"?"bottom-[-4px] left-1/2 -translate-x-1/2":"")+" "+(r[1]==="bottom"?"top-[-4px] left-1/2 -translate-x-1/2":"")+" "+(r[1]==="left"?"right-[-4px] top-1/2 -translate-y-1/2":"")+" "+(r[1]==="right"?"left-[-4px] top-1/2 -translate-y-1/2":"")),g(e,"class","fixed z-50 px-2 py-1 text-xs text-white bg-gray-900 dark:bg-gray-700 rounded shadow-lg pointer-events-none whitespace-nowrap"),ft(e,"opacity","0.95")},m(a,i){N(a,e,i),u(e,l),u(e,t),u(e,s),r[10](e)},p(a,i){i&1&&le(l,a[0]),i&2&&n!==(n="absolute w-2 h-2 bg-gray-900 dark:bg-gray-700 transform rotate-45 "+(a[1]==="top"?"bottom-[-4px] left-1/2 -translate-x-1/2":"")+" "+(a[1]==="bottom"?"top-[-4px] left-1/2 -translate-x-1/2":"")+" "+(a[1]==="left"?"right-[-4px] top-1/2 -translate-y-1/2":"")+" "+(a[1]==="right"?"left-[-4px] top-1/2 -translate-y-1/2":""))&&g(s,"class",n)},d(a){a&&h(e),r[10](null)}}}function Sr(r){let e,l,t,s,n;const a=r[9].default,i=Te(a,r,r[8],null);let o=r[2]&&r[0]&&ol(r);return{c(){e=$("div"),i&&i.c(),l=S(),o&&o.c(),this.h()},l(c){e=v(c,"DIV",{class:!0});var m=E(e);i&&i.l(m),l=P(m),o&&o.l(m),m.forEach(h),this.h()},h(){g(e,"class","inline-block relative")},m(c,m){N(c,e,m),i&&i.m(e,null),u(e,l),o&&o.m(e,null),r[11](e),t=!0,s||(n=[De(e,"mouseenter",r[5]),De(e,"mouseleave",r[6])],s=!0)},p(c,[m]){i&&i.p&&(!t||m&256)&&Ae(i,a,c,c[8],t?Me(a,c[8],m,null):Ve(c[8]),null),c[2]&&c[0]?o?o.p(c,m):(o=ol(c),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(c){t||(k(i,c),t=!0)},o(c){D(i,c),t=!1},d(c){c&&h(e),i&&i.d(c),o&&o.d(),r[11](null),s=!1,Dt(n)}}}function Nr(r,e,l){let{$$slots:t={},$$scope:s}=e,{text:n=""}=e,{position:a="top"}=e,{delay:i=500}=e,o=!1,c,m,f;function d(){c=setTimeout(()=>{l(2,o=!0),y()},i)}function p(){clearTimeout(c),l(2,o=!1)}function y(){if(!m||!f)return;const w=m.getBoundingClientRect(),_=f.getBoundingClientRect();let C=0,T=0;switch(a){case"top":C=w.top-_.height-8,T=w.left+(w.width-_.width)/2;break;case"bottom":C=w.bottom+8,T=w.left+(w.width-_.width)/2;break;case"left":C=w.top+(w.height-_.height)/2,T=w.left-_.width-8;break;case"right":C=w.top+(w.height-_.height)/2,T=w.right+8;break}const F=8;T=Math.max(F,Math.min(T,window.innerWidth-_.width-F)),C=Math.max(F,Math.min(C,window.innerHeight-_.height-F)),l(4,f.style.top=`${C}px`,f),l(4,f.style.left=`${T}px`,f)}function b(w){lt[w?"unshift":"push"](()=>{f=w,l(4,f)})}function I(w){lt[w?"unshift":"push"](()=>{m=w,l(3,m)})}return r.$$set=w=>{"text"in w&&l(0,n=w.text),"position"in w&&l(1,a=w.position),"delay"in w&&l(7,i=w.delay),"$$scope"in w&&l(8,s=w.$$scope)},[n,a,o,m,f,d,p,i,s,t,b,I]}class Ll extends be{constructor(e){super(),we(this,e,Nr,Sr,ke,{text:0,position:1,delay:7})}}function cl(r,e,l){const t=r.slice();return t[6]=e[l],t}function fl(r,e,l){const t=r.slice();return t[6]=e[l],t[10]=l,t}function ul(r){let e,l,t,s=[],n=new Map,a,i,o,c,m,f,d=!r[0]&&dl(r),p=Je(r[3]);const y=w=>w[6].id;for(let w=0;w<p.length;w+=1){let _=fl(r,p,w),C=y(_);n.set(C,s[w]=ml(C,_))}let b=r[2]>0&&hl(r),I=!r[0]&&r[1].length>0&&pl(r);return{c(){e=$("div"),d&&d.c(),l=S(),t=$("div");for(let w=0;w<s.length;w+=1)s[w].c();a=S(),b&&b.c(),o=S(),I&&I.c(),this.h()},l(w){e=v(w,"DIV",{class:!0});var _=E(e);d&&d.l(_),l=P(_),t=v(_,"DIV",{class:!0});var C=E(t);for(let T=0;T<s.length;T+=1)s[T].l(C);a=P(C),b&&b.l(C),C.forEach(h),o=P(_),I&&I.l(_),_.forEach(h),this.h()},h(){g(t,"class",i="flex items-center "+(r[0]?"gap-0":"gap-2")),g(e,"class",c="active-users "+(r[0]?"compact":"")+" svelte-ifwpxn")},m(w,_){N(w,e,_),d&&d.m(e,null),u(e,l),u(e,t);for(let C=0;C<s.length;C+=1)s[C]&&s[C].m(t,null);u(t,a),b&&b.m(t,null),u(e,o),I&&I.m(e,null),f=!0},p(w,_){w[0]?d&&(ce(),D(d,1,1,()=>{d=null}),fe()):d?(d.p(w,_),_&1&&k(d,1)):(d=dl(w),d.c(),k(d,1),d.m(e,l)),_&9&&(p=Je(w[3]),ce(),s=Nt(s,_,y,1,w,p,n,t,Sl,ml,a,fl),fe()),w[2]>0?b?(b.p(w,_),_&4&&k(b,1)):(b=hl(w),b.c(),k(b,1),b.m(t,null)):b&&(ce(),D(b,1,1,()=>{b=null}),fe()),(!f||_&1&&i!==(i="flex items-center "+(w[0]?"gap-0":"gap-2")))&&g(t,"class",i),!w[0]&&w[1].length>0?I?(I.p(w,_),_&3&&k(I,1)):(I=pl(w),I.c(),k(I,1),I.m(e,null)):I&&(ce(),D(I,1,1,()=>{I=null}),fe()),(!f||_&1&&c!==(c="active-users "+(w[0]?"compact":"")+" svelte-ifwpxn"))&&g(e,"class",c)},i(w){if(!f){k(d);for(let _=0;_<p.length;_+=1)k(s[_]);k(b),k(I),w&&xe(()=>{f&&(m||(m=je(e,ut,{duration:200},!0)),m.run(1))}),f=!0}},o(w){D(d);for(let _=0;_<s.length;_+=1)D(s[_]);D(b),D(I),w&&(m||(m=je(e,ut,{duration:200},!1)),m.run(0)),f=!1},d(w){w&&h(e),d&&d.d();for(let _=0;_<s.length;_+=1)s[_].d();b&&b.d(),I&&I.d(),w&&m&&m.end()}}}function dl(r){let e,l,t,s,n=r[1].length+"",a,i,o=r[1].length===1?"user":"users",c,m;return l=new Vl({props:{class:"w-4 h-4 text-gray-500"}}),{c(){e=$("div"),R(l.$$.fragment),t=S(),s=$("span"),a=j(n),i=j(" active "),c=j(o),this.h()},l(f){e=v(f,"DIV",{class:!0});var d=E(e);Q(l.$$.fragment,d),t=P(d),s=v(d,"SPAN",{class:!0});var p=E(s);a=U(p,n),i=U(p," active "),c=U(p,o),p.forEach(h),d.forEach(h),this.h()},h(){g(s,"class","text-sm text-gray-500"),g(e,"class","flex items-center gap-2 mb-2")},m(f,d){N(f,e,d),B(l,e,null),u(e,t),u(e,s),u(s,a),u(s,i),u(s,c),m=!0},p(f,d){(!m||d&2)&&n!==(n=f[1].length+"")&&le(a,n),(!m||d&2)&&o!==(o=f[1].length===1?"user":"users")&&le(c,o)},i(f){m||(k(l.$$.fragment,f),m=!0)},o(f){D(l.$$.fragment,f),m=!1},d(f){f&&h(e),O(l)}}}function Tr(r){let e,l=_l(r[6].name)+"",t;return{c(){e=$("div"),t=j(l),this.h()},l(s){e=v(s,"DIV",{class:!0});var n=E(e);t=U(n,l),n.forEach(h),this.h()},h(){g(e,"class","w-8 h-8 rounded-full bg-primary-500 text-white flex items-center justify-center text-xs font-medium border-2 border-white dark:border-gray-800")},m(s,n){N(s,e,n),u(e,t)},p(s,n){n&8&&l!==(l=_l(s[6].name)+"")&&le(t,l)},d(s){s&&h(e)}}}function Ar(r){let e,l,t;return{c(){e=$("img"),this.h()},l(s){e=v(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){tt(e.src,l=r[6].avatar)||g(e,"src",l),g(e,"alt",t=r[6].name),g(e,"class","w-8 h-8 rounded-full border-2 border-white dark:border-gray-800")},m(s,n){N(s,e,n)},p(s,n){n&8&&!tt(e.src,l=s[6].avatar)&&g(e,"src",l),n&8&&t!==(t=s[6].name)&&g(e,"alt",t)},d(s){s&&h(e)}}}function Vr(r){let e,l,t,s;function n(o,c){return o[6].avatar?Ar:Tr}let a=n(r),i=a(r);return{c(){e=$("div"),i.c(),l=S(),t=$("div"),this.h()},l(o){e=v(o,"DIV",{class:!0});var c=E(e);i.l(c),l=P(c),t=v(c,"DIV",{class:!0}),E(t).forEach(h),c.forEach(h),this.h()},h(){g(t,"class",s="absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full "+It(r[6].status)+" border border-white dark:border-gray-800 svelte-ifwpxn"),g(e,"class","relative")},m(o,c){N(o,e,c),i.m(e,null),u(e,l),u(e,t)},p(o,c){a===(a=n(o))&&i?i.p(o,c):(i.d(1),i=a(o),i&&(i.c(),i.m(e,l))),c&8&&s!==(s="absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full "+It(o[6].status)+" border border-white dark:border-gray-800 svelte-ifwpxn")&&g(t,"class",s)},d(o){o&&h(e),i.d()}}}function ml(r,e){let l,t,s,n,a;return t=new Ll({props:{content:e[6].name+" ("+e[6].status+")",$$slots:{default:[Vr]},$$scope:{ctx:e}}}),{key:r,first:null,c(){l=$("div"),R(t.$$.fragment),this.h()},l(i){l=v(i,"DIV",{class:!0,style:!0});var o=E(l);Q(t.$$.fragment,o),o.forEach(h),this.h()},h(){g(l,"class","user-avatar svelte-ifwpxn"),g(l,"style",s=e[0]?`z-index: ${5-e[10]}; margin-left: ${e[10]>0?"-0.5rem":"0"}`:""),this.first=l},m(i,o){N(i,l,o),B(t,l,null),a=!0},p(i,o){e=i;const c={};o&8&&(c.content=e[6].name+" ("+e[6].status+")"),o&2056&&(c.$$scope={dirty:o,ctx:e}),t.$set(c),(!a||o&9&&s!==(s=e[0]?`z-index: ${5-e[10]}; margin-left: ${e[10]>0?"-0.5rem":"0"}`:""))&&g(l,"style",s)},i(i){a||(k(t.$$.fragment,i),i&&xe(()=>{a&&(n||(n=je(l,dt,{duration:200,delay:e[10]*50},!0)),n.run(1))}),a=!0)},o(i){D(t.$$.fragment,i),i&&(n||(n=je(l,dt,{duration:200,delay:e[10]*50},!1)),n.run(0)),a=!1},d(i){i&&h(l),O(t),i&&n&&n.end()}}}function hl(r){let e,l,t,s,n;return l=new Ll({props:{content:r[2]+" more "+(r[2]===1?"user":"users"),$$slots:{default:[Mr]},$$scope:{ctx:r}}}),{c(){e=$("div"),R(l.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0,style:!0});var i=E(e);Q(l.$$.fragment,i),i.forEach(h),this.h()},h(){g(e,"class","user-avatar svelte-ifwpxn"),g(e,"style",t=r[0]?"z-index: 0; margin-left: -0.5rem":"")},m(a,i){N(a,e,i),B(l,e,null),n=!0},p(a,i){const o={};i&4&&(o.content=a[2]+" more "+(a[2]===1?"user":"users")),i&2052&&(o.$$scope={dirty:i,ctx:a}),l.$set(o),(!n||i&1&&t!==(t=a[0]?"z-index: 0; margin-left: -0.5rem":""))&&g(e,"style",t)},i(a){n||(k(l.$$.fragment,a),a&&xe(()=>{n&&(s||(s=je(e,dt,{duration:200,delay:250},!0)),s.run(1))}),n=!0)},o(a){D(l.$$.fragment,a),a&&(s||(s=je(e,dt,{duration:200,delay:250},!1)),s.run(0)),n=!1},d(a){a&&h(e),O(l),a&&s&&s.end()}}}function Mr(r){let e,l,t;return{c(){e=$("div"),l=j("+"),t=j(r[2]),this.h()},l(s){e=v(s,"DIV",{class:!0});var n=E(e);l=U(n,"+"),t=U(n,r[2]),n.forEach(h),this.h()},h(){g(e,"class","w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 flex items-center justify-center text-xs font-medium border-2 border-white dark:border-gray-800")},m(s,n){N(s,e,n),u(e,l),u(e,t)},p(s,n){n&4&&le(t,s[2])},d(s){s&&h(e)}}}function pl(r){let e,l,t=Je(r[1].slice(0,3)),s=[];for(let a=0;a<t.length;a+=1)s[a]=gl(cl(r,t,a));const n=a=>D(s[a],1,1,()=>{s[a]=null});return{c(){e=$("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=v(a,"DIV",{class:!0});var i=E(e);for(let o=0;o<s.length;o+=1)s[o].l(i);i.forEach(h),this.h()},h(){g(e,"class","mt-3 space-y-1")},m(a,i){N(a,e,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);l=!0},p(a,i){if(i&2){t=Je(a[1].slice(0,3));let o;for(o=0;o<t.length;o+=1){const c=cl(a,t,o);s[o]?(s[o].p(c,i),k(s[o],1)):(s[o]=gl(c),s[o].c(),k(s[o],1),s[o].m(e,null))}for(ce(),o=t.length;o<s.length;o+=1)n(o);fe()}},i(a){if(!l){for(let i=0;i<t.length;i+=1)k(s[i]);l=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)D(s[i]);l=!1},d(a){a&&h(e),St(s,a)}}}function gl(r){let e,l,t,s,n=r[6].name+"",a,i,o,c,m=r[6].currentPath+"",f,d,p;return l=new bs({props:{class:"w-2 h-2 "+It(r[6].status)+" rounded-full"}}),{c(){e=$("div"),R(l.$$.fragment),t=S(),s=$("span"),a=j(n),i=S(),o=$("span"),c=j("in "),f=j(m),d=S(),this.h()},l(y){e=v(y,"DIV",{class:!0});var b=E(e);Q(l.$$.fragment,b),t=P(b),s=v(b,"SPAN",{class:!0});var I=E(s);a=U(I,n),I.forEach(h),i=P(b),o=v(b,"SPAN",{class:!0});var w=E(o);c=U(w,"in "),f=U(w,m),w.forEach(h),d=P(b),b.forEach(h),this.h()},h(){g(s,"class","text-gray-600 dark:text-gray-400"),g(o,"class","text-gray-400"),g(e,"class","flex items-center gap-2 text-xs")},m(y,b){N(y,e,b),B(l,e,null),u(e,t),u(e,s),u(s,a),u(e,i),u(e,o),u(o,c),u(o,f),u(e,d),p=!0},p(y,b){const I={};b&2&&(I.class="w-2 h-2 "+It(y[6].status)+" rounded-full"),l.$set(I),(!p||b&2)&&n!==(n=y[6].name+"")&&le(a,n),(!p||b&2)&&m!==(m=y[6].currentPath+"")&&le(f,m)},i(y){p||(k(l.$$.fragment,y),p=!0)},o(y){D(l.$$.fragment,y),p=!1},d(y){y&&h(e),O(l)}}}function Fr(r){let e,l,t=r[1].length>0&&ul(r);return{c(){t&&t.c(),e=et()},l(s){t&&t.l(s),e=et()},m(s,n){t&&t.m(s,n),N(s,e,n),l=!0},p(s,[n]){s[1].length>0?t?(t.p(s,n),n&2&&k(t,1)):(t=ul(s),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(ce(),D(t,1,1,()=>{t=null}),fe())},i(s){l||(k(t),l=!0)},o(s){D(t),l=!1},d(s){s&&h(e),t&&t.d(s)}}}function It(r){switch(r){case"active":return"bg-green-500";case"idle":return"bg-yellow-500";case"away":return"bg-gray-400";default:return"bg-gray-400"}}function _l(r){return r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}function zr(r,e,l){let t,s,n,a,i=ze,o=()=>(i(),i=Pl(t,f=>l(1,a=f)),t);r.$$.on_destroy.push(()=>i());let{path:c="/"}=e,{compact:m=!1}=e;return r.$$set=f=>{"path"in f&&l(5,c=f.path),"compact"in f&&l(0,m=f.compact)},r.$$.update=()=>{r.$$.dirty&32&&o(l(4,t=yt.activeUsersInPath$(c))),r.$$.dirty&2&&l(3,s=a.slice(0,5)),r.$$.dirty&2&&l(2,n=Math.max(0,a.length-5))},[m,a,n,s,t,c]}class Ur extends be{constructor(e){super(),we(this,e,zr,Fr,ke,{path:5,compact:0})}}function vl(r,e,l){const t=r.slice();return t[7]=e[l],t}function $l(r){let e,l='<h3 class="text-sm font-medium text-gray-700 dark:text-gray-300">Live Activity</h3> <div class="pulse-indicator svelte-1v567t1"><span class="pulse svelte-1v567t1"></span> <span class="text-xs text-gray-500">Real-time</span></div>';return{c(){e=$("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-jj9jzn"&&(e.innerHTML=l),this.h()},h(){g(e,"class","header svelte-1v567t1")},m(t,s){N(t,e,s)},d(t){t&&h(e)}}}function jr(r){let e,l=[],t=new Map,s,n=Je(r[1]);const a=i=>i[7].timestamp;for(let i=0;i<n.length;i+=1){let o=vl(r,n,i),c=a(o);t.set(c,l[i]=bl(c,o))}return{c(){e=$("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var o=E(e);for(let c=0;c<l.length;c+=1)l[c].l(o);o.forEach(h),this.h()},h(){g(e,"class","space-y-2")},m(i,o){N(i,e,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);s=!0},p(i,o){if(o&10){n=Je(i[1]),ce();for(let c=0;c<l.length;c+=1)l[c].r();l=Nt(l,o,a,1,i,n,t,e,Gl,bl,null,vl);for(let c=0;c<l.length;c+=1)l[c].a();fe()}},i(i){if(!s){for(let o=0;o<n.length;o+=1)k(l[o]);s=!0}},o(i){for(let o=0;o<l.length;o+=1)D(l[o]);s=!1},d(i){i&&h(e);for(let o=0;o<l.length;o+=1)l[o].d()}}}function Lr(r){let e,l,t,s,n="No recent activity",a,i,o="Actions will appear here in real-time",c;return l=new Fl({props:{class:"w-8 h-8 text-gray-400 mx-auto mb-2"}}),{c(){e=$("div"),R(l.$$.fragment),t=S(),s=$("p"),s.textContent=n,a=S(),i=$("p"),i.textContent=o,this.h()},l(m){e=v(m,"DIV",{class:!0});var f=E(e);Q(l.$$.fragment,f),t=P(f),s=v(f,"P",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-1bhftqv"&&(s.textContent=n),a=P(f),i=v(f,"P",{class:!0,"data-svelte-h":!0}),se(i)!=="svelte-12uepr8"&&(i.textContent=o),f.forEach(h),this.h()},h(){g(s,"class","text-sm text-gray-500"),g(i,"class","text-xs text-gray-400 mt-1"),g(e,"class","empty-state svelte-1v567t1")},m(m,f){N(m,e,f),B(l,e,null),u(e,t),u(e,s),u(e,a),u(e,i),c=!0},p:ze,i(m){c||(k(l.$$.fragment,m),c=!0)},o(m){D(l.$$.fragment,m),c=!1},d(m){m&&h(e),O(l)}}}function bl(r,e){let l,t,s,n,a,i,o,c=e[7].userName+"",m,f,d,p=kl(e[7])+"",y,b,I,w=e[7].fileName+"",_,C,T,F=yl(e[7].timestamp)+"",H,L,W,q,X=ze,Z;var z=e[3](e[7].type);function V(M,G){return{props:{class:"w-4 h-4 "+wl(M[7].type)}}}return z&&(s=st(z,V(e))),{key:r,first:null,c(){l=$("div"),t=$("div"),s&&R(s.$$.fragment),n=S(),a=$("div"),i=$("p"),o=$("span"),m=j(c),f=S(),d=$("span"),y=j(p),b=S(),I=$("span"),_=j(w),C=S(),T=$("p"),H=j(F),L=S(),this.h()},l(M){l=v(M,"DIV",{class:!0});var G=E(l);t=v(G,"DIV",{class:!0});var K=E(t);s&&Q(s.$$.fragment,K),K.forEach(h),n=P(G),a=v(G,"DIV",{class:!0});var x=E(a);i=v(x,"P",{class:!0});var re=E(i);o=v(re,"SPAN",{class:!0});var pe=E(o);m=U(pe,c),pe.forEach(h),f=P(re),d=v(re,"SPAN",{class:!0});var ie=E(d);y=U(ie,p),ie.forEach(h),b=P(re),I=v(re,"SPAN",{class:!0});var me=E(I);_=U(me,w),me.forEach(h),re.forEach(h),C=P(x),T=v(x,"P",{class:!0});var _e=E(T);H=U(_e,F),_e.forEach(h),x.forEach(h),L=P(G),G.forEach(h),this.h()},h(){g(t,"class","icon svelte-1v567t1"),g(o,"class","font-medium text-gray-900 dark:text-gray-100"),g(d,"class","text-gray-600 dark:text-gray-400"),g(I,"class","font-medium text-gray-800 dark:text-gray-200"),g(i,"class","text-sm"),g(T,"class","text-xs text-gray-500 mt-0.5"),g(a,"class","content svelte-1v567t1"),g(l,"class","activity-item svelte-1v567t1"),this.first=l},m(M,G){N(M,l,G),u(l,t),s&&B(s,t,null),u(l,n),u(l,a),u(a,i),u(i,o),u(o,m),u(i,f),u(i,d),u(d,y),u(i,b),u(i,I),u(I,_),u(a,C),u(a,T),u(T,H),u(l,L),Z=!0},p(M,G){if(e=M,G&2&&z!==(z=e[3](e[7].type))){if(s){ce();const K=s;D(K.$$.fragment,1,0,()=>{O(K,1)}),fe()}z?(s=st(z,V(e)),R(s.$$.fragment),k(s.$$.fragment,1),B(s,t,null)):s=null}else if(z){const K={};G&2&&(K.class="w-4 h-4 "+wl(e[7].type)),s.$set(K)}(!Z||G&2)&&c!==(c=e[7].userName+"")&&le(m,c),(!Z||G&2)&&p!==(p=kl(e[7])+"")&&le(y,p),(!Z||G&2)&&w!==(w=e[7].fileName+"")&&le(_,w),(!Z||G&2)&&F!==(F=yl(e[7].timestamp)+"")&&le(H,F)},r(){q=l.getBoundingClientRect()},f(){ls(l),X(),ss(l,q)},a(){X(),X=ts(l,q,ns,{duration:300})},i(M){Z||(s&&k(s.$$.fragment,M),M&&xe(()=>{Z&&(W||(W=je(l,wt,{duration:200},!0)),W.run(1))}),Z=!0)},o(M){s&&D(s.$$.fragment,M),M&&(W||(W=je(l,wt,{duration:200},!1)),W.run(0)),Z=!1},d(M){M&&h(l),s&&O(s),M&&W&&W.end()}}}function Or(r){let e,l,t,s,n,a,i=r[0]&&$l();const o=[Lr,jr],c=[];function m(f,d){return f[1].length===0?0:1}return s=m(r),n=c[s]=o[s](r),{c(){e=$("div"),i&&i.c(),l=S(),t=$("div"),n.c(),this.h()},l(f){e=v(f,"DIV",{class:!0});var d=E(e);i&&i.l(d),l=P(d),t=v(d,"DIV",{class:!0});var p=E(t);n.l(p),p.forEach(h),d.forEach(h),this.h()},h(){g(t,"class","activities svelte-1v567t1"),g(e,"class","activity-feed svelte-1v567t1")},m(f,d){N(f,e,d),i&&i.m(e,null),u(e,l),u(e,t),c[s].m(t,null),a=!0},p(f,[d]){f[0]?i||(i=$l(),i.c(),i.m(e,l)):i&&(i.d(1),i=null);let p=s;s=m(f),s===p?c[s].p(f,d):(ce(),D(c[p],1,1,()=>{c[p]=null}),fe(),n=c[s],n?n.p(f,d):(n=c[s]=o[s](f),n.c()),k(n,1),n.m(t,null))},i(f){a||(k(n),a=!0)},o(f){D(n),a=!1},d(f){f&&h(e),i&&i.d(),c[s].d()}}}function wl(r){switch(r){case"upload":return"text-green-500";case"download":return"text-blue-500";case"edit":return"text-orange-500";case"view":return"text-gray-500";default:return"text-gray-400"}}function kl(r){switch(r.type){case"upload":return"uploaded";case"download":return"downloaded";case"edit":return"edited";case"view":return"viewed";default:return"interacted with"}}function yl(r){const l=new Date().getTime()-r.getTime(),t=Math.floor(l/1e3);if(t<5)return"just now";if(t<60)return`${t}s ago`;const s=Math.floor(t/60);if(s<60)return`${s}m ago`;const n=Math.floor(s/60);if(n<24)return`${n}h ago`;const a=Math.floor(n/24);return a<7?`${a}d ago`:r.toLocaleDateString()}function Br(r,e,l){let t,s,n,a=ze,i=()=>(a(),a=Pl(t,f=>l(5,n=f)),t);r.$$.on_destroy.push(()=>a());let{limit:o=10}=e,{showHeader:c=!0}=e;function m(f){switch(f){case"upload":return Tt;case"download":return nt;case"edit":return es;case"view":return Cs;default:return Fl}}return setInterval(()=>{},1e4),r.$$set=f=>{"limit"in f&&l(4,o=f.limit),"showHeader"in f&&l(0,c=f.showHeader)},r.$$.update=()=>{r.$$.dirty&48&&l(1,s=n.slice(0,o))},i(l(2,t=yt.recentActivities$)),[c,s,t,m,o,n]}class Rr extends be{constructor(e){super(),we(this,e,Br,Or,ke,{limit:4,showHeader:0})}}const{Boolean:Hr}=ds;function Il(r,e,l){const t=r.slice();return t[27]=e[l],t[29]=l,t}function Dl(r){let e,l,t,s=r[27]+"",n,a,i;return e=new Nl({props:{class:"w-4 h-4 text-gray-400"}}),{c(){R(e.$$.fragment),l=S(),t=$("button"),n=j(s),a=S(),this.h()},l(o){Q(e.$$.fragment,o),l=P(o),t=v(o,"BUTTON",{class:!0});var c=E(t);n=U(c,s),a=P(c),c.forEach(h),this.h()},h(){g(t,"class","hover:text-primary-600")},m(o,c){B(e,o,c),N(o,l,c),N(o,t,c),u(t,n),u(t,a),i=!0},p:ze,i(o){i||(k(e.$$.fragment,o),i=!0)},o(o){D(e.$$.fragment,o),i=!1},d(o){o&&(h(l),h(t)),O(e,o)}}}function Wr(r){let e;return{c(){e=j("Upload")},l(l){e=U(l,"Upload")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function qr(r){let e;return{c(){e=j("New Folder")},l(l){e=U(l,"New Folder")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function El(r){let e,l,t,s,n,a,i;return l=new Ee({props:{icon:nt,variant:"ghost",size:"sm",$$slots:{default:[Qr]},$$scope:{ctx:r}}}),s=new Ee({props:{icon:At,variant:"ghost",size:"sm",$$slots:{default:[Zr]},$$scope:{ctx:r}}}),s.$on("click",r[13]),a=new Ee({props:{icon:Ml,variant:"ghost",size:"sm",$$slots:{default:[Jr]},$$scope:{ctx:r}}}),a.$on("click",r[12]),{c(){e=$("div"),R(l.$$.fragment),t=S(),R(s.$$.fragment),n=S(),R(a.$$.fragment),this.h()},l(o){e=v(o,"DIV",{class:!0});var c=E(e);Q(l.$$.fragment,c),t=P(c),Q(s.$$.fragment,c),n=P(c),Q(a.$$.fragment,c),c.forEach(h),this.h()},h(){g(e,"class","ml-auto flex gap-2")},m(o,c){N(o,e,c),B(l,e,null),u(e,t),B(s,e,null),u(e,n),B(a,e,null),i=!0},p(o,c){const m={};c&1073741824&&(m.$$scope={dirty:c,ctx:o}),l.$set(m);const f={};c&1073741824&&(f.$$scope={dirty:c,ctx:o}),s.$set(f);const d={};c&1073741824&&(d.$$scope={dirty:c,ctx:o}),a.$set(d)},i(o){i||(k(l.$$.fragment,o),k(s.$$.fragment,o),k(a.$$.fragment,o),i=!0)},o(o){D(l.$$.fragment,o),D(s.$$.fragment,o),D(a.$$.fragment,o),i=!1},d(o){o&&h(e),O(l),O(s),O(a)}}}function Qr(r){let e;return{c(){e=j("Download")},l(l){e=U(l,"Download")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function Zr(r){let e;return{c(){e=j("Share")},l(l){e=U(l,"Share")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function Jr(r){let e;return{c(){e=j("Delete")},l(l){e=U(l,"Delete")},m(l,t){N(l,e,t)},d(l){l&&h(e)}}}function Gr(r){let e,l;return e=new Dn({}),{c(){R(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,s){B(e,t,s),l=!0},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Kr(r){let e,l,t,s,n,a,i,o="Home",c,m,f,d,p,y,b,I,w,_,C,T,F,H,L,W,q,X="Collaborators",Z,z,V,M,G,K,x,re,pe,ie,me,_e,Ce,Ue;n=new as({props:{class:"w-4 h-4"}});let he=Je(r[11]),ne=[];for(let A=0;A<he.length;A+=1)ne[A]=Dl(Il(r,he,A));const He=A=>D(ne[A],1,1,()=>{ne[A]=null});d=new Ee({props:{icon:Tt,$$slots:{default:[Wr]},$$scope:{ctx:r}}}),d.$on("click",r[16]),y=new Ee({props:{icon:js,variant:"secondary",$$slots:{default:[qr]},$$scope:{ctx:r}}}),y.$on("click",r[14]);let ge=r[0].length>0&&El(r);function Ze(A){r[17](A)}let Le={files:r[10],folders:r[9],currentPath:Ye,loading:Yr,searchQuery:r[6],currentPage:r[7],itemsPerPage:r[8],totalItems:r[10].length+r[9].length};r[0]!==void 0&&(Le.selectedItems=r[0]),_=new Yl({props:Le}),lt.push(()=>ot(_,"selectedItems",Ze)),_.$on("upload",r[18]),_.$on("createFolder",r[14]),_.$on("search",r[19]),_.$on("paginate",r[20]),F=new Er({props:{selectedCount:r[0].length}}),F.$on("action",r[15]),F.$on("clear",r[21]),z=new Ur({props:{path:Ye}}),M=new Rr({props:{limit:8}});function Ke(A){r[22](A)}let We={title:"Upload Files",size:"lg",$$slots:{default:[Gr]},$$scope:{ctx:r}};r[1]!==void 0&&(We.open=r[1]),K=new Mt({props:We}),lt.push(()=>ot(K,"open",Ke));function Pe(A){r[23](A)}let ae={item:r[5]};r[2]!==void 0&&(ae.open=r[2]),pe=new Hn({props:ae}),lt.push(()=>ot(pe,"open",Pe));function oe(A){r[24](A)}let ve={file:r[4]};return r[3]!==void 0&&(ve.open=r[3]),_e=new yr({props:ve}),lt.push(()=>ot(_e,"open",oe)),{c(){e=$("div"),l=$("div"),t=$("div"),s=$("button"),R(n.$$.fragment),a=S(),i=$("span"),i.textContent=o,c=S();for(let A=0;A<ne.length;A+=1)ne[A].c();m=S(),f=$("div"),R(d.$$.fragment),p=S(),R(y.$$.fragment),b=S(),ge&&ge.c(),I=S(),w=$("div"),R(_.$$.fragment),T=S(),R(F.$$.fragment),H=S(),L=$("div"),W=$("div"),q=$("h3"),q.textContent=X,Z=S(),R(z.$$.fragment),V=S(),R(M.$$.fragment),G=S(),R(K.$$.fragment),re=S(),R(pe.$$.fragment),me=S(),R(_e.$$.fragment),this.h()},l(A){e=v(A,"DIV",{class:!0});var Y=E(e);l=v(Y,"DIV",{class:!0});var J=E(l);t=v(J,"DIV",{class:!0});var te=E(t);s=v(te,"BUTTON",{class:!0});var Se=E(s);Q(n.$$.fragment,Se),a=P(Se),i=v(Se,"SPAN",{"data-svelte-h":!0}),se(i)!=="svelte-3sk4b5"&&(i.textContent=o),Se.forEach(h),c=P(te);for(let $e=0;$e<ne.length;$e+=1)ne[$e].l(te);te.forEach(h),m=P(J),f=v(J,"DIV",{class:!0});var Ie=E(f);Q(d.$$.fragment,Ie),p=P(Ie),Q(y.$$.fragment,Ie),b=P(Ie),ge&&ge.l(Ie),Ie.forEach(h),I=P(J),w=v(J,"DIV",{class:!0});var Fe=E(w);Q(_.$$.fragment,Fe),Fe.forEach(h),T=P(J),Q(F.$$.fragment,J),J.forEach(h),H=P(Y),L=v(Y,"DIV",{class:!0});var Ne=E(L);W=v(Ne,"DIV",{class:!0});var ye=E(W);q=v(ye,"H3",{class:!0,"data-svelte-h":!0}),se(q)!=="svelte-pj6uzw"&&(q.textContent=X),Z=P(ye),Q(z.$$.fragment,ye),ye.forEach(h),V=P(Ne),Q(M.$$.fragment,Ne),Ne.forEach(h),Y.forEach(h),G=P(A),Q(K.$$.fragment,A),re=P(A),Q(pe.$$.fragment,A),me=P(A),Q(_e.$$.fragment,A),this.h()},h(){g(s,"class","flex items-center gap-1 hover:text-primary-600"),g(t,"class","flex items-center gap-2 text-sm"),g(f,"class","flex gap-2"),g(w,"class","bg-white dark:bg-gray-800 rounded-lg p-6"),g(l,"class","flex-1 space-y-4"),g(q,"class","text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"),g(W,"class","bg-white dark:bg-gray-800 rounded-lg p-4"),g(L,"class","hidden xl:block w-80 space-y-4"),g(e,"class","flex gap-6")},m(A,Y){N(A,e,Y),u(e,l),u(l,t),u(t,s),B(n,s,null),u(s,a),u(s,i),u(t,c);for(let J=0;J<ne.length;J+=1)ne[J]&&ne[J].m(t,null);u(l,m),u(l,f),B(d,f,null),u(f,p),B(y,f,null),u(f,b),ge&&ge.m(f,null),u(l,I),u(l,w),B(_,w,null),u(l,T),B(F,l,null),u(e,H),u(e,L),u(L,W),u(W,q),u(W,Z),B(z,W,null),u(L,V),B(M,L,null),N(A,G,Y),B(K,A,Y),N(A,re,Y),B(pe,A,Y),N(A,me,Y),B(_e,A,Y),Ue=!0},p(A,[Y]){if(Y&2048){he=Je(A[11]);let $e;for($e=0;$e<he.length;$e+=1){const mt=Il(A,he,$e);ne[$e]?(ne[$e].p(mt,Y),k(ne[$e],1)):(ne[$e]=Dl(mt),ne[$e].c(),k(ne[$e],1),ne[$e].m(t,null))}for(ce(),$e=he.length;$e<ne.length;$e+=1)He($e);fe()}const J={};Y&1073741824&&(J.$$scope={dirty:Y,ctx:A}),d.$set(J);const te={};Y&1073741824&&(te.$$scope={dirty:Y,ctx:A}),y.$set(te),A[0].length>0?ge?(ge.p(A,Y),Y&1&&k(ge,1)):(ge=El(A),ge.c(),k(ge,1),ge.m(f,null)):ge&&(ce(),D(ge,1,1,()=>{ge=null}),fe());const Se={};Y&64&&(Se.searchQuery=A[6]),Y&128&&(Se.currentPage=A[7]),Y&256&&(Se.itemsPerPage=A[8]),!C&&Y&1&&(C=!0,Se.selectedItems=A[0],ct(()=>C=!1)),_.$set(Se);const Ie={};Y&1&&(Ie.selectedCount=A[0].length),F.$set(Ie);const Fe={};Y&1073741824&&(Fe.$$scope={dirty:Y,ctx:A}),!x&&Y&2&&(x=!0,Fe.open=A[1],ct(()=>x=!1)),K.$set(Fe);const Ne={};Y&32&&(Ne.item=A[5]),!ie&&Y&4&&(ie=!0,Ne.open=A[2],ct(()=>ie=!1)),pe.$set(Ne);const ye={};Y&16&&(ye.file=A[4]),!Ce&&Y&8&&(Ce=!0,ye.open=A[3],ct(()=>Ce=!1)),_e.$set(ye)},i(A){if(!Ue){k(n.$$.fragment,A);for(let Y=0;Y<he.length;Y+=1)k(ne[Y]);k(d.$$.fragment,A),k(y.$$.fragment,A),k(ge),k(_.$$.fragment,A),k(F.$$.fragment,A),k(z.$$.fragment,A),k(M.$$.fragment,A),k(K.$$.fragment,A),k(pe.$$.fragment,A),k(_e.$$.fragment,A),Ue=!0}},o(A){D(n.$$.fragment,A),ne=ne.filter(Hr);for(let Y=0;Y<ne.length;Y+=1)D(ne[Y]);D(d.$$.fragment,A),D(y.$$.fragment,A),D(ge),D(_.$$.fragment,A),D(F.$$.fragment,A),D(z.$$.fragment,A),D(M.$$.fragment,A),D(K.$$.fragment,A),D(pe.$$.fragment,A),D(_e.$$.fragment,A),Ue=!1},d(A){A&&(h(e),h(G),h(re),h(me)),O(n),St(ne,A),O(d),O(y),ge&&ge.d(),O(_),O(F),O(z),O(M),O(K,A),O(pe,A),O(_e,A)}}}let Ye="/",Yr=!1;function Xr(r,e,l){let t=[],s=!1,n=!1,a=!1,i=null,o=null,c="",m=1,f=20,d=[];const p=[{id:"f1",name:"Documents",path:"/",itemCount:24,size:15728640,isShared:!1,permissions:[],createdAt:new Date("2024-01-01"),modifiedAt:new Date("2024-01-20")},{id:"f2",name:"Images",path:"/",itemCount:156,size:524288e3,isShared:!0,permissions:[],createdAt:new Date("2024-01-05"),modifiedAt:new Date("2024-01-22")},{id:"f3",name:"Projects",path:"/",itemCount:8,size:104857600,isShared:!1,permissions:[],createdAt:new Date("2024-01-10"),modifiedAt:new Date("2024-01-25")}],y=[{id:"file1",name:"README.md",path:"/",size:4096,mimeType:"text/markdown",isShared:!1,permissions:[],createdAt:new Date("2024-01-15"),modifiedAt:new Date("2024-01-20")},{id:"file2",name:"budget.xlsx",path:"/",size:45056,mimeType:"application/vnd.ms-excel",isShared:!0,permissions:[],createdAt:new Date("2024-01-18"),modifiedAt:new Date("2024-01-23")}],b=Ye.split("/").filter(Boolean);Zl(()=>{it.loadFiles(Ye),yt.announcePresence(Ye),d.push(qe.subscribe("file_added",V=>{it.loadFiles(Ye)}),qe.subscribe("file_deleted",V=>{it.loadFiles(Ye)}),qe.subscribe("file_updated",V=>{it.loadFiles(Ye)}))}),Jl(()=>{d.forEach(V=>V())});async function I(){if(t.length!==0&&confirm(`Delete ${t.length} item(s)?`)){const V=ue.progress("Deleting files",0,t.length);try{for(let M=0;M<t.length;M++)await it.deleteItem(t[M]),ue.updateProgress(V,M+1,t.length);ue.success("Files deleted",`${t.length} items deleted successfully`),l(0,t=[])}catch{ue.error("Delete failed","Some files could not be deleted")}}}function w(){if(t.length===0)return;const V=t[0],M=[...y,...p].find(G=>G.id===V);M&&(l(5,o=M),l(2,n=!0))}async function _(){const V=prompt("Enter folder name:");if(V)try{await it.createFolder(V,Ye),ue.success("Folder created",`"${V}" created successfully`)}catch(M){ue.error("Failed to create folder",M.message||"An error occurred")}}async function C(V){switch(V.detail.action){case"delete":I();break;case"share":w();break;case"download":bt.info("Preparing download...");break;case"move":bt.info("Move feature coming soon");break;case"copy":bt.info("Copy feature coming soon");break;case"archive":bt.info("Archive feature coming soon");break}}const T=()=>l(1,s=!0);function F(V){t=V,l(0,t)}const H=()=>l(1,s=!0),L=V=>l(6,c=V.detail.query),W=V=>{l(7,m=V.detail.page),l(8,f=V.detail.itemsPerPage)},q=()=>l(0,t=[]);function X(V){s=V,l(1,s)}function Z(V){n=V,l(2,n)}function z(V){a=V,l(3,a)}return yt.updatePath(Ye),[t,s,n,a,i,o,c,m,f,p,y,b,I,w,_,C,T,F,H,L,W,q,X,Z,z]}class ka extends be{constructor(e){super(),we(this,e,Xr,Kr,ke,{})}}export{ka as component};
