import{S as Pe,i as ze,s as Fe,d as _,a as q,G as Le,t as w,b as $,f as m,y as X,c as j,e as u,m as R,H as xe,g as v,h as b,j as _e,k as A,l as K,r as V,n as k,o as T,p as O,u as I,I as He,q as fe,x as Z,J as ue,w as be,K as Q,L as he,M as de}from"../chunks/D7cgMQgG.js";import{e as ne}from"../chunks/ClgeGvnK.js";import"../chunks/IHki7fMi.js";import{C as oe}from"../chunks/COV0MD6F.js";import{B as me}from"../chunks/C0dBig-Y.js";import{L as ke,s as ve}from"../chunks/DPy0Gr5d.js";import{U as we}from"../chunks/jj5a9AaL.js";import{D as Ne}from"../chunks/BAGtJE_Y.js";import{C as je}from"../chunks/yYbNxQ5h.js";function Ee(n,e,r){const t=n.slice();return t[15]=e[r],t}function De(n,e,r){const t=n.slice();return t[9]=e[r],t}function Ce(n,e,r){const t=n.slice();return t[12]=e[r],t}function Ge(n){let e,r,t,l;const a=[Ke,Re],i=[];function o(s,d){return s[2].length===0?0:1}return e=o(n),r=i[e]=a[e](n),{c(){r.c(),t=ue()},l(s){r.l(s),t=ue()},m(s,d){i[e].m(s,d),j(s,t,d),l=!0},p(s,d){let f=e;e=o(s),e===f?i[e].p(s,d):(Z(),w(i[f],1,1,()=>{i[f]=null}),X(),r=i[e],r?r.p(s,d):(r=i[e]=a[e](s),r.c()),$(r,1),r.m(t.parentNode,t))},i(s){l||($(r),l=!0)},o(s){w(r),l=!1},d(s){s&&_(t),i[e].d(s)}}}function Ue(n){let e,r,t,l;const a=[tt,et],i=[];function o(s,d){return s[1].files.length===0&&s[1].folders.length===0?0:1}return e=o(n),r=i[e]=a[e](n),{c(){r.c(),t=ue()},l(s){r.l(s),t=ue()},m(s,d){i[e].m(s,d),j(s,t,d),l=!0},p(s,d){let f=e;e=o(s),e===f?i[e].p(s,d):(Z(),w(i[f],1,1,()=>{i[f]=null}),X(),r=i[e],r?r.p(s,d):(r=i[e]=a[e](s),r.c()),$(r,1),r.m(t.parentNode,t))},i(s){l||($(r),l=!0)},o(s){w(r),l=!1},d(s){s&&_(t),i[e].d(s)}}}function qe(n){let e,r='<div class="animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"></div> <p class="text-gray-500 mt-2">Loading...</p>';return{c(){e=k("div"),e.innerHTML=r,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-1l3zq4r"&&(e.innerHTML=r),this.h()},h(){m(e,"class","text-center py-12")},m(t,l){j(t,e,l)},p:fe,i:fe,o:fe,d(t){t&&_(e)}}}function Re(n){let e,r,t=ne(n[2]),l=[];for(let i=0;i<t.length;i+=1)l[i]=Ie(Ee(n,t,i));const a=i=>w(l[i],1,1,()=>{l[i]=null});return{c(){e=k("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var o=b(e);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(_),this.h()},h(){m(e,"class","space-y-4")},m(i,o){j(i,e,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null);r=!0},p(i,o){if(o&20){t=ne(i[2]);let s;for(s=0;s<t.length;s+=1){const d=Ee(i,t,s);l[s]?(l[s].p(d,o),$(l[s],1)):(l[s]=Ie(d),l[s].c(),$(l[s],1),l[s].m(e,null))}for(Z(),s=t.length;s<l.length;s+=1)a(s);X()}},i(i){if(!r){for(let o=0;o<t.length;o+=1)$(l[o]);r=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)w(l[o]);r=!1},d(i){i&&_(e),be(l,i)}}}function Ke(n){let e,r;return e=new oe({props:{$$slots:{default:[Ze]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){R(e,t,l),r=!0},p(t,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){q(e,t)}}}function Oe(n){let e,r;return e=new we({props:{class:"w-5 h-5 text-green-500"}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){R(e,t,l),r=!0},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){q(e,t)}}}function We(n){let e,r;return e=new ke({props:{class:"w-5 h-5 text-blue-500"}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){R(e,t,l),r=!0},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){q(e,t)}}}function Se(n){let e,r,t,l=ee(n[15].expiresAt)+"",a,i;return r=new je({props:{class:"w-3 h-3"}}),{c(){e=k("span"),O(r.$$.fragment),t=I(`
													Expires `),a=I(l),this.h()},l(o){e=v(o,"SPAN",{class:!0});var s=b(e);K(r.$$.fragment,s),t=V(s,`
													Expires `),a=V(s,l),s.forEach(_),this.h()},h(){m(e,"class","flex items-center gap-1")},m(o,s){j(o,e,s),R(r,e,null),u(e,t),u(e,a),i=!0},p(o,s){(!i||s&4)&&l!==(l=ee(o[15].expiresAt)+"")&&Q(a,l)},i(o){i||($(r.$$.fragment,o),i=!0)},o(o){w(r.$$.fragment,o),i=!1},d(o){o&&_(e),q(r)}}}function Ve(n){let e,r;return e=new me({props:{size:"sm",variant:"ghost",$$slots:{default:[Je]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){R(e,t,l),r=!0},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){q(e,t)}}}function Je(n){let e;return{c(){e=I("Copy Link")},l(r){e=V(r,"Copy Link")},m(r,t){j(r,e,t)},d(r){r&&_(e)}}}function Ye(n){let e;return{c(){e=I("Revoke")},l(r){e=V(r,"Revoke")},m(r,t){j(r,e,t)},d(r){r&&_(e)}}}function Qe(n){let e,r,t,l,a,i,o,s,d=n[15].itemType==="folder"?"Folder":"File",f,h,c,y,L,H,x=ee(n[15].createdAt)+"",S,P,G,E,M=n[15].accessCount+"",D,C,p,g,B,z,J,Y;const le=[We,Oe],te=[];function ye(W,U){return W[15].shareType==="public"?0:1}l=ye(n),a=te[l]=le[l](n);let F=n[15].expiresAt&&Se(n),N=n[15].shareType==="public"&&Ve(n);function Te(){return n[7](n[15])}return z=new me({props:{size:"sm",variant:"ghost",$$slots:{default:[Ye]},$$scope:{ctx:n}}}),z.$on("click",Te),{c(){e=k("div"),r=k("div"),t=k("div"),a.c(),i=T(),o=k("div"),s=k("p"),f=I(d),h=I(" Share"),c=T(),y=k("div"),L=k("span"),H=I("Created "),S=I(x),P=T(),F&&F.c(),G=T(),E=k("span"),D=I(M),C=I(" views"),p=T(),g=k("div"),N&&N.c(),B=T(),O(z.$$.fragment),J=T(),this.h()},l(W){e=v(W,"DIV",{class:!0});var U=b(e);r=v(U,"DIV",{class:!0});var se=b(r);t=v(se,"DIV",{class:!0});var re=b(t);a.l(re),i=A(re),o=v(re,"DIV",{});var ie=b(o);s=v(ie,"P",{class:!0});var pe=b(s);f=V(pe,d),h=V(pe," Share"),pe.forEach(_),c=A(ie),y=v(ie,"DIV",{class:!0});var ae=b(y);L=v(ae,"SPAN",{});var $e=b(L);H=V($e,"Created "),S=V($e,x),$e.forEach(_),P=A(ae),F&&F.l(ae),G=A(ae),E=v(ae,"SPAN",{});var ge=b(E);D=V(ge,M),C=V(ge," views"),ge.forEach(_),ae.forEach(_),ie.forEach(_),re.forEach(_),se.forEach(_),p=A(U),g=v(U,"DIV",{class:!0});var ce=b(g);N&&N.l(ce),B=A(ce),K(z.$$.fragment,ce),ce.forEach(_),U.forEach(_),J=A(W),this.h()},h(){m(s,"class","font-medium"),m(y,"class","flex items-center gap-4 text-sm text-gray-500"),m(t,"class","flex items-center gap-3"),m(r,"class","flex-1"),m(g,"class","flex items-center gap-2"),m(e,"class","flex items-center justify-between")},m(W,U){j(W,e,U),u(e,r),u(r,t),te[l].m(t,null),u(t,i),u(t,o),u(o,s),u(s,f),u(s,h),u(o,c),u(o,y),u(y,L),u(L,H),u(L,S),u(y,P),F&&F.m(y,null),u(y,G),u(y,E),u(E,D),u(E,C),u(e,p),u(e,g),N&&N.m(g,null),u(g,B),R(z,g,null),j(W,J,U),Y=!0},p(W,U){n=W;let se=l;l=ye(n),l!==se&&(Z(),w(te[se],1,1,()=>{te[se]=null}),X(),a=te[l],a||(a=te[l]=le[l](n),a.c()),$(a,1),a.m(t,i)),(!Y||U&4)&&d!==(d=n[15].itemType==="folder"?"Folder":"File")&&Q(f,d),(!Y||U&4)&&x!==(x=ee(n[15].createdAt)+"")&&Q(S,x),n[15].expiresAt?F?(F.p(n,U),U&4&&$(F,1)):(F=Se(n),F.c(),$(F,1),F.m(y,G)):F&&(Z(),w(F,1,1,()=>{F=null}),X()),(!Y||U&4)&&M!==(M=n[15].accessCount+"")&&Q(D,M),n[15].shareType==="public"?N?U&4&&$(N,1):(N=Ve(n),N.c(),$(N,1),N.m(g,B)):N&&(Z(),w(N,1,1,()=>{N=null}),X());const re={};U&262144&&(re.$$scope={dirty:U,ctx:n}),z.$set(re)},i(W){Y||($(a),$(F),$(N),$(z.$$.fragment,W),Y=!0)},o(W){w(a),w(F),w(N),w(z.$$.fragment,W),Y=!1},d(W){W&&(_(e),_(J)),te[l].d(),F&&F.d(),N&&N.d(),q(z)}}}function Ie(n){let e,r;return e=new oe({props:{$$slots:{default:[Qe]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){R(e,t,l),r=!0},p(t,l){const a={};l&262148&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){q(e,t)}}}function Xe(n){let e;return{c(){e=I("Go to Files")},l(r){e=V(r,"Go to Files")},m(r,t){j(r,e,t)},d(r){r&&_(e)}}}function Ze(n){let e,r,t,l,a="You haven't shared any files yet",i,o,s;return r=new ke({props:{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}}),o=new me({props:{href:"/files",variant:"primary",class:"mt-4",$$slots:{default:[Xe]},$$scope:{ctx:n}}}),{c(){e=k("div"),O(r.$$.fragment),t=T(),l=k("p"),l.textContent=a,i=T(),O(o.$$.fragment),this.h()},l(d){e=v(d,"DIV",{class:!0});var f=b(e);K(r.$$.fragment,f),t=A(f),l=v(f,"P",{class:!0,"data-svelte-h":!0}),_e(l)!=="svelte-1ykduoy"&&(l.textContent=a),i=A(f),K(o.$$.fragment,f),f.forEach(_),this.h()},h(){m(l,"class","text-gray-500"),m(e,"class","text-center py-12")},m(d,f){j(d,e,f),R(r,e,null),u(e,t),u(e,l),u(e,i),R(o,e,null),s=!0},p(d,f){const h={};f&262144&&(h.$$scope={dirty:f,ctx:d}),o.$set(h)},i(d){s||($(r.$$.fragment,d),$(o.$$.fragment,d),s=!0)},o(d){w(r.$$.fragment,d),w(o.$$.fragment,d),s=!1},d(d){d&&_(e),q(r),q(o)}}}function et(n){let e,r,t,l=ne(n[1].folders),a=[];for(let f=0;f<l.length;f+=1)a[f]=Me(Ce(n,l,f));const i=f=>w(a[f],1,1,()=>{a[f]=null});let o=ne(n[1].files),s=[];for(let f=0;f<o.length;f+=1)s[f]=Be(De(n,o,f));const d=f=>w(s[f],1,1,()=>{s[f]=null});return{c(){e=k("div");for(let f=0;f<a.length;f+=1)a[f].c();r=T();for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=v(f,"DIV",{class:!0});var h=b(e);for(let c=0;c<a.length;c+=1)a[c].l(h);r=A(h);for(let c=0;c<s.length;c+=1)s[c].l(h);h.forEach(_),this.h()},h(){m(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(f,h){j(f,e,h);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);u(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(f,h){if(h&2){l=ne(f[1].folders);let c;for(c=0;c<l.length;c+=1){const y=Ce(f,l,c);a[c]?(a[c].p(y,h),$(a[c],1)):(a[c]=Me(y),a[c].c(),$(a[c],1),a[c].m(e,r))}for(Z(),c=l.length;c<a.length;c+=1)i(c);X()}if(h&2){o=ne(f[1].files);let c;for(c=0;c<o.length;c+=1){const y=De(f,o,c);s[c]?(s[c].p(y,h),$(s[c],1)):(s[c]=Be(y),s[c].c(),$(s[c],1),s[c].m(e,null))}for(Z(),c=o.length;c<s.length;c+=1)d(c);X()}},i(f){if(!t){for(let h=0;h<l.length;h+=1)$(a[h]);for(let h=0;h<o.length;h+=1)$(s[h]);t=!0}},o(f){a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)w(a[h]);s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)w(s[h]);t=!1},d(f){f&&_(e),be(a,f),be(s,f)}}}function tt(n){let e,r;return e=new oe({props:{$$slots:{default:[at]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){R(e,t,l),r=!0},p(t,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){q(e,t)}}}function rt(n){let e,r,t,l,a,i,o,s=n[12].name+"",d,f,h,c=n[12].itemCount+"",y,L,H,x,S,P=ee(n[12].createdAt)+"",G;return{c(){e=k("div"),r=k("div"),t=k("div"),l=de("svg"),a=de("path"),i=T(),o=k("h3"),d=I(s),f=T(),h=k("p"),y=I(c),L=I(" items"),H=T(),x=k("p"),S=I("Shared on "),G=I(P),this.h()},l(E){e=v(E,"DIV",{class:!0});var M=b(e);r=v(M,"DIV",{class:!0});var D=b(r);t=v(D,"DIV",{class:!0});var C=b(t);l=he(C,"svg",{class:!0,fill:!0,viewBox:!0});var p=b(l);a=he(p,"path",{d:!0}),b(a).forEach(_),p.forEach(_),i=A(C),o=v(C,"H3",{class:!0});var g=b(o);d=V(g,s),g.forEach(_),C.forEach(_),f=A(D),h=v(D,"P",{class:!0});var B=b(h);y=V(B,c),L=V(B," items"),B.forEach(_),H=A(D),x=v(D,"P",{class:!0});var z=b(x);S=V(z,"Shared on "),G=V(z,P),z.forEach(_),D.forEach(_),M.forEach(_),this.h()},h(){m(a,"d","M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"),m(l,"class","w-5 h-5 text-blue-500"),m(l,"fill","currentColor"),m(l,"viewBox","0 0 20 20"),m(o,"class","font-medium truncate"),m(t,"class","flex items-center gap-2 mb-2"),m(h,"class","text-sm text-gray-500"),m(x,"class","text-xs text-gray-400 mt-1"),m(r,"class","flex-1 min-w-0"),m(e,"class","flex items-start justify-between")},m(E,M){j(E,e,M),u(e,r),u(r,t),u(t,l),u(l,a),u(t,i),u(t,o),u(o,d),u(r,f),u(r,h),u(h,y),u(h,L),u(r,H),u(r,x),u(x,S),u(x,G)},p(E,M){M&2&&s!==(s=E[12].name+"")&&Q(d,s),M&2&&c!==(c=E[12].itemCount+"")&&Q(y,c),M&2&&P!==(P=ee(E[12].createdAt)+"")&&Q(G,P)},d(E){E&&_(e)}}}function Me(n){let e,r;return e=new oe({props:{$$slots:{default:[rt]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){R(e,t,l),r=!0},p(t,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){q(e,t)}}}function lt(n){let e;return{c(){e=I("Download")},l(r){e=V(r,"Download")},m(r,t){j(r,e,t)},d(r){r&&_(e)}}}function st(n){let e,r,t,l,a,i,o,s=n[9].name+"",d,f,h,c=Ae(n[9].size)+"",y,L,H,x,S=ee(n[9].createdAt)+"",P,G,E,M,D;return E=new me({props:{size:"sm",variant:"ghost",icon:Ne,$$slots:{default:[lt]},$$scope:{ctx:n}}}),{c(){e=k("div"),r=k("div"),t=k("div"),l=de("svg"),a=de("path"),i=T(),o=k("h3"),d=I(s),f=T(),h=k("p"),y=I(c),L=T(),H=k("p"),x=I("Shared on "),P=I(S),G=T(),O(E.$$.fragment),M=T(),this.h()},l(C){e=v(C,"DIV",{class:!0});var p=b(e);r=v(p,"DIV",{class:!0});var g=b(r);t=v(g,"DIV",{class:!0});var B=b(t);l=he(B,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var z=b(l);a=he(z,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(a).forEach(_),z.forEach(_),i=A(B),o=v(B,"H3",{class:!0});var J=b(o);d=V(J,s),J.forEach(_),B.forEach(_),f=A(g),h=v(g,"P",{class:!0});var Y=b(h);y=V(Y,c),Y.forEach(_),L=A(g),H=v(g,"P",{class:!0});var le=b(H);x=V(le,"Shared on "),P=V(le,S),le.forEach(_),g.forEach(_),G=A(p),K(E.$$.fragment,p),p.forEach(_),M=A(C),this.h()},h(){m(a,"stroke-linecap","round"),m(a,"stroke-linejoin","round"),m(a,"stroke-width","2"),m(a,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),m(l,"class","w-5 h-5 text-gray-400"),m(l,"fill","none"),m(l,"stroke","currentColor"),m(l,"viewBox","0 0 24 24"),m(o,"class","font-medium truncate"),m(t,"class","flex items-center gap-2 mb-2"),m(h,"class","text-sm text-gray-500"),m(H,"class","text-xs text-gray-400 mt-1"),m(r,"class","flex-1 min-w-0"),m(e,"class","flex items-start justify-between")},m(C,p){j(C,e,p),u(e,r),u(r,t),u(t,l),u(l,a),u(t,i),u(t,o),u(o,d),u(r,f),u(r,h),u(h,y),u(r,L),u(r,H),u(H,x),u(H,P),u(e,G),R(E,e,null),j(C,M,p),D=!0},p(C,p){(!D||p&2)&&s!==(s=C[9].name+"")&&Q(d,s),(!D||p&2)&&c!==(c=Ae(C[9].size)+"")&&Q(y,c),(!D||p&2)&&S!==(S=ee(C[9].createdAt)+"")&&Q(P,S);const g={};p&262144&&(g.$$scope={dirty:p,ctx:C}),E.$set(g)},i(C){D||($(E.$$.fragment,C),D=!0)},o(C){w(E.$$.fragment,C),D=!1},d(C){C&&(_(e),_(M)),q(E)}}}function Be(n){let e,r;return e=new oe({props:{$$slots:{default:[st]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){R(e,t,l),r=!0},p(t,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){q(e,t)}}}function at(n){let e,r,t,l,a="No files have been shared with you yet",i;return r=new we({props:{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}}),{c(){e=k("div"),O(r.$$.fragment),t=T(),l=k("p"),l.textContent=a,this.h()},l(o){e=v(o,"DIV",{class:!0});var s=b(e);K(r.$$.fragment,s),t=A(s),l=v(s,"P",{class:!0,"data-svelte-h":!0}),_e(l)!=="svelte-5l5pdy"&&(l.textContent=a),s.forEach(_),this.h()},h(){m(l,"class","text-gray-500"),m(e,"class","text-center py-12")},m(o,s){j(o,e,s),R(r,e,null),u(e,t),u(e,l),i=!0},p:fe,i(o){i||($(r.$$.fragment,o),i=!0)},o(o){w(r.$$.fragment,o),i=!1},d(o){o&&_(e),q(r)}}}function nt(n){let e,r,t="Shared Files",l,a,i,o,s,d,f,h,c,y,L,H,x,S,P,G,E;o=new we({props:{class:"inline w-4 h-4 mr-2"}}),c=new ke({props:{class:"inline w-4 h-4 mr-2"}});const M=[qe,Ue,Ge],D=[];function C(p,g){return p[3]?0:p[0]==="shared-with-me"?1:2}return x=C(n),S=D[x]=M[x](n),{c(){e=k("div"),r=k("h1"),r.textContent=t,l=T(),a=k("div"),i=k("button"),O(o.$$.fragment),s=I(`
			Shared with Me`),f=T(),h=k("button"),O(c.$$.fragment),y=I(`
			Shared by Me`),H=T(),S.c(),this.h()},l(p){e=v(p,"DIV",{class:!0});var g=b(e);r=v(g,"H1",{class:!0,"data-svelte-h":!0}),_e(r)!=="svelte-1osdx8i"&&(r.textContent=t),l=A(g),a=v(g,"DIV",{class:!0});var B=b(a);i=v(B,"BUTTON",{class:!0});var z=b(i);K(o.$$.fragment,z),s=V(z,`
			Shared with Me`),z.forEach(_),f=A(B),h=v(B,"BUTTON",{class:!0});var J=b(h);K(c.$$.fragment,J),y=V(J,`
			Shared by Me`),J.forEach(_),B.forEach(_),H=A(g),S.l(g),g.forEach(_),this.h()},h(){m(r,"class","text-2xl font-bold"),m(i,"class",d="px-4 py-2 rounded-md transition-colors "+(n[0]==="shared-with-me"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700")),m(h,"class",L="px-4 py-2 rounded-md transition-colors "+(n[0]==="shared-by-me"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700")),m(a,"class","flex gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg w-fit"),m(e,"class","space-y-6")},m(p,g){j(p,e,g),u(e,r),u(e,l),u(e,a),u(a,i),R(o,i,null),u(i,s),u(a,f),u(a,h),R(c,h,null),u(h,y),u(e,H),D[x].m(e,null),P=!0,G||(E=[xe(i,"click",n[5]),xe(h,"click",n[6])],G=!0)},p(p,[g]){(!P||g&1&&d!==(d="px-4 py-2 rounded-md transition-colors "+(p[0]==="shared-with-me"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700")))&&m(i,"class",d),(!P||g&1&&L!==(L="px-4 py-2 rounded-md transition-colors "+(p[0]==="shared-by-me"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700")))&&m(h,"class",L);let B=x;x=C(p),x===B?D[x].p(p,g):(Z(),w(D[B],1,1,()=>{D[B]=null}),X(),S=D[x],S?S.p(p,g):(S=D[x]=M[x](p),S.c()),$(S,1),S.m(e,null))},i(p){P||($(o.$$.fragment,p),$(c.$$.fragment,p),$(S),P=!0)},o(p){w(o.$$.fragment,p),w(c.$$.fragment,p),w(S),P=!1},d(p){p&&_(e),q(o),q(c),D[x].d(),G=!1,Le(E)}}}function ee(n){return new Date(n).toLocaleDateString()}function Ae(n){if(n===0)return"0 Bytes";const e=1024,r=["Bytes","KB","MB","GB"],t=Math.floor(Math.log(n)/Math.log(e));return Math.round(n/Math.pow(e,t)*100)/100+" "+r[t]}function ot(n,e,r){let t="shared-with-me",l={files:[],folders:[]},a=[],i=!1;He(async()=>{await o()});async function o(){r(3,i=!0);try{t==="shared-with-me"?r(1,l=await ve.getSharedWithMe()):r(2,a=await ve.getShares())}catch(c){console.error("Failed to load shares:",c)}finally{r(3,i=!1)}}async function s(c){if(confirm("Revoke this share?"))try{await ve.revokeShare(c),await o()}catch(y){console.error("Failed to revoke share:",y)}}const d=()=>r(0,t="shared-with-me"),f=()=>r(0,t="shared-by-me"),h=c=>s(c.id);return n.$$.update=()=>{n.$$.dirty&1&&o()},[t,l,a,i,s,d,f,h]}class $t extends Pe{constructor(e){super(),ze(this,e,ot,nt,Fe,{})}}export{$t as component};
