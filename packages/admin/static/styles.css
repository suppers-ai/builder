@import "tailwindcss";
@plugin "daisyui" {
  themes: all;
}

/*
  Since we lazy load components, we need to tell Tailwind to scan for classes in them.
*/
@source "./../../ui-lib/components/**/*.tsx";

body {
  font-family:
    -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell",
    "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  overflow-x: hidden;
}

html {
  overflow-x: hidden;
}

/* Code highlighting */

pre {
  font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
}

/* Ensure spinners are visible */

.animate-spin {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* Line clamp utility for text truncation */

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Admin-specific responsive grid layouts */

.admin-grid-responsive {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
  width: 100%;
}

@media (min-width: 640px) {
  .admin-grid-responsive {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .admin-grid-responsive {
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }
}

@media (min-width: 1280px) {
  .admin-grid-responsive {
    grid-template-columns: repeat(4, 1fr);
    gap: 2rem;
  }
}

.admin-grid-metrics {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

@media (min-width: 640px) {
  .admin-grid-metrics {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .admin-grid-metrics {
    grid-template-columns: repeat(4, 1fr);
  }
}

.admin-grid-dashboard {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
}

@media (min-width: 1024px) {
  .admin-grid-dashboard {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Sidebar layout */
.admin-layout {
  min-height: 100vh;
  background-color: hsl(var(--b2));
}

.admin-sidebar {
  width: 16rem; /* w-64 */
  background-color: hsl(var(--b1));
  min-height: 100vh;
  border-right: 1px solid hsl(var(--b3));
}

.admin-content {
  flex: 1;
  padding: 1rem;
}

@media (min-width: 1024px) {
  .admin-content {
    padding: 1.5rem;
  }
}

/* Header styles */
.admin-header {
  background-color: hsl(var(--b1));
  border-bottom: 1px solid hsl(var(--b3));
  min-height: 4rem;
}
/* Sidebar-aware layout styles */
.sidebar-aware-layout {
  transition: margin-left 0.3s ease-in-out;
  position: relative;
  z-index: 10;
  min-height: 100vh;
}

/* Mobile - sidebar overlay, no margin */
.sidebar-aware-layout {
  margin-left: 0;
}

/* Desktop - sidebar always visible, content has left margin */
@media (min-width: 1024px) {
  .sidebar-aware-layout {
    margin-left: 20rem; /* w-80 = 320px = 20rem */
  }
  
  /* Even when sidebar is "closed" on desktop, it should still be visible */
  body.sidebar-closed .sidebar-aware-layout {
    margin-left: 20rem;
  }
}

/* Admin-specific component styles */
.admin-card {
  @apply card bg-base-100 shadow-sm border border-base-200;
}

.admin-card-body {
  @apply card-body;
}

.admin-card-compact {
  @apply card-body p-4;
}

.admin-btn-mobile {
  @apply btn btn-sm;
}

@media (min-width: 640px) {
  .admin-btn-mobile {
    @apply btn;
  }
}

.admin-btn-desktop {
  @apply hidden sm:inline-flex btn;
}

.admin-btn-group {
  @apply flex flex-col sm:flex-row gap-2;
}

.admin-filters {
  @apply flex flex-col lg:flex-row gap-4;
}

.admin-filters-search {
  @apply flex-1;
}

.admin-filters-controls {
  @apply flex flex-wrap gap-2;
}

.admin-form-grid {
  @apply grid grid-cols-1 md:grid-cols-2 gap-4;
}

.admin-form-grid-full {
  @apply md:col-span-2;
}

.admin-form-actions {
  @apply flex flex-col sm:flex-row gap-2 justify-end;
}

.admin-list-item {
  @apply flex flex-col sm:flex-row sm:items-center justify-between gap-4;
}

.admin-list-item-content {
  @apply flex-1 min-w-0;
}

.admin-list-item-meta {
  @apply flex flex-wrap gap-4 text-sm text-base-content/60 mt-2;
}

.admin-list-item-actions {
  @apply flex flex-wrap gap-2;
}

.admin-status-badge {
  @apply badge badge-sm;
}


.admin-modal {
  @apply modal-box w-11/12 max-w-2xl max-h-[90vh] overflow-y-auto;
}

.admin-focus-visible {
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
}

.admin-sr-only {
  @apply sr-only;
}

@media (min-width: 1024px) {
  .admin-sr-only {
    @apply not-sr-only;
  }
}

/* Ensure modals appear above sidebar - sidebar uses z-50 on mobile, z-30 on desktop */
.modal {
  z-index: 100 !important;
  position: fixed !important;
}

.modal-open {
  z-index: 100 !important;
  position: fixed !important;
}

.modal-backdrop {
  z-index: 99 !important;
}

.modal-box {
  z-index: 101 !important;
  position: relative !important;
}

/* Specific override for any modal container */
div:has(.modal-open), 
.modal-open {
  z-index: 100 !important;
  position: fixed !important;
}

/* Fix dropdown positioning in tables */
.table .dropdown {
  position: relative !important;
}

.table .dropdown-content,
.table .dropdown .dropdown-content {
  position: absolute !important;
  z-index: 1000 !important;
  min-width: 200px !important;
  top: 100% !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  margin-top: 4px !important;
}

/* Ensure dropdown content appears above table rows */
.dropdown-content {
  z-index: 1000 !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
}

/* Prevent table overflow from hiding dropdowns */
.overflow-x-auto:has(.table) {
  overflow: visible !important;
}

/* Alternative: make the table container have visible overflow when dropdown is open */
.table-container {
  overflow: visible !important;
}