const PerformanceUtils={initLazyLoading(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.classList.remove("lazy"),n.classList.add("loaded"),t.unobserve(n)}})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}else document.querySelectorAll("img[data-src]").forEach(e=>{e.src=e.dataset.src,e.classList.remove("lazy"),e.classList.add("loaded")})},preloadCriticalResources(){const e=[{href:"/css/main.css",as:"style"},{href:"/js/main.js",as:"script"}];e.forEach(e=>{const t=document.createElement("link");t.rel="preload",t.href=e.href,t.as=e.as,e.as==="style"&&(t.onload=function(){this.rel="stylesheet"}),document.head.appendChild(t)})},optimizeFontLoading(){if("fonts"in document){const e=["Inter","JetBrains Mono"];e.forEach(e=>{document.fonts.load(`1em ${e}`).catch(t=>{console.warn(`Failed to preload font: ${e}`,t)})})}},debounce(e,t,n){let s;return function(...o){const i=()=>{s=null,n||e(...o)},a=n&&!s;clearTimeout(s),s=setTimeout(i,t),a&&e(...o)}},throttle(e,t){let n;return function(){const s=arguments,o=this;n||(e.apply(o,s),n=!0,setTimeout(()=>n=!1,t))}}};function toggleMobileMenu(){const e=document.getElementById("mobile-menu-overlay"),t=e?.querySelector("div:last-child"),n=document.getElementById("mobile-menu-button"),s=document.getElementById("menu-icon"),o=document.getElementById("close-icon");if(!e||!t)return;e.classList.contains("hidden")?(e.classList.remove("hidden"),requestAnimationFrame(()=>{t.classList.remove("translate-x-full")}),n?.setAttribute("aria-expanded","true"),s?.classList.add("hidden"),o?.classList.remove("hidden"),document.body.style.overflow="hidden"):closeMobileMenu()}function closeMobileMenu(){const e=document.getElementById("mobile-menu-overlay"),t=e?.querySelector("div:last-child"),n=document.getElementById("mobile-menu-button"),s=document.getElementById("menu-icon"),o=document.getElementById("close-icon");if(!e||!t)return;t.classList.add("translate-x-full"),setTimeout(()=>{e.classList.add("hidden")},300),n?.setAttribute("aria-expanded","false"),s?.classList.remove("hidden"),o?.classList.add("hidden"),document.body.style.overflow=""}function copyToClipboard(e){const t=document.getElementById(e);if(!t)return;const n=t.textContent||t.innerText;navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(n).then(()=>{showCopyFeedback()}).catch(e=>{console.error("Failed to copy text: ",e),fallbackCopyToClipboard(n)}):fallbackCopyToClipboard(n)}function fallbackCopyToClipboard(e){const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),showCopyFeedback()}catch(e){console.error("Fallback: Oops, unable to copy",e)}document.body.removeChild(t)}function showCopyFeedback(){const e=document.createElement("div");e.textContent="Copied to clipboard!",e.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-opacity",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)},2e3)}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})}document.addEventListener("DOMContentLoaded",function(){initSmoothScroll(),document.getElementById("docs-search")&&initDocsSearch(),document.addEventListener("click",function(e){const t=document.getElementById("mobile-menu"),n=e.target.closest("button");t&&!t.classList.contains("hidden")&&!t.contains(e.target)&&(!n||n.onclick!==toggleMobileMenu)&&t.classList.add("hidden")}),document.querySelectorAll("pre code").forEach((e,t)=>{const n=e.parentElement;if(n.tagName==="PRE"){const s=document.createElement("button");s.className="code-copy-btn",s.innerHTML=`
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
            `,s.onclick=()=>copyToClipboard(`code-block-${t}`),e.id=`code-block-${t}`,n.style.position="relative",n.appendChild(s)}})});function trackEvent(e,t={}){console.log("Event tracked:",e,t)}function initDocsSearch(){if(typeof lunr=="undefined"){const e=document.createElement("script");e.src="https://unpkg.com/lunr@2.3.9/lunr.min.js",e.onload=()=>{loadSearchScript()},document.head.appendChild(e)}else loadSearchScript()}function loadSearchScript(){const e=document.createElement("script");e.src="/js/search.js",document.head.appendChild(e)}window.demoFunctions={trackDemoStart:()=>trackEvent("demo_started"),trackDemoError:e=>trackEvent("demo_error",{error:e}),trackDemoSuccess:()=>trackEvent("demo_success")}